/**
 * skylark-jade - A version of jade.js that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-jade/
 * @license MIT
 */
define([],function(){"use strict";var e={},t={exports:{}};function n(e){return"object"!=typeof e||Array.isArray(e)||!function(e){var t;for(t in e)return!1;return!0}(e)}return function(n){if("object"==typeof e)t.exports=n();else if("function"==typeof define&&define.amd)define(n);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.jade=n()}}(function(){return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){e("./nodes");var r=e("./filters"),i=e("./doctypes"),o=e("./runtime"),s=(e("./utils"),e("./self-closing")),a=e("character-parser").parseMax,u=e("constantinople");function c(e){return u(e,{jade:o,jade_interp:void 0})}function l(e){return u.toConstant(e,{jade:o,jade_interp:void 0})}function f(e,t){return t.line=e.line,t.filename=e.filename,t}(t.exports=function(e,t){this.options=t=t||{},this.node=e,this.hasCompiledDoctype=!1,this.hasCompiledTag=!1,this.pp=t.pretty||!1,this.debug=!1!==t.compileDebug,this.indents=0,this.parentIndents=0,this.terse=!1,this.mixins={},this.dynamicMixins=!1,t.doctype&&this.setDoctype(t.doctype)}).prototype={compile:function(){if(this.buf=[],this.pp&&this.buf.push("var jade_indent = [];"),this.lastBufferedIdx=-1,this.visit(this.node),!this.dynamicMixins)for(var e=Object.keys(this.mixins),t=0;t<e.length;t++){var n=this.mixins[e[t]];if(!n.used)for(var r=0;r<n.instances.length;r++)for(var i=n.instances[r].start;i<n.instances[r].end;i++)this.buf[i]=""}return this.buf.join("\n")},setDoctype:function(e){this.doctype=i[e.toLowerCase()]||"<!DOCTYPE "+e+">",this.terse="<!doctype html>"==this.doctype.toLowerCase(),this.xml=0==this.doctype.indexOf("<?xml")},buffer:function(e,t){if(t){var n=/(\\)?([#!]){((?:.|\n)*)$/.exec(e);if(n){if(this.buffer(e.substr(0,n.index),!1),n[1])return this.buffer(n[2]+"{",!1),void this.buffer(n[3],!0);var r=n[3],i=a(r),o=("!"==n[2]?"":"jade.escape")+"((jade_interp = "+i.src+") == null ? '' : jade_interp)";return this.bufferExpression(o),void this.buffer(r.substr(i.end+1),!0)}}e=(e=JSON.stringify(e)).substr(1,e.length-2),this.lastBufferedIdx==this.buf.length?("code"===this.lastBufferedType&&(this.lastBuffered+=' + "'),this.lastBufferedType="text",this.lastBuffered+=e,this.buf[this.lastBufferedIdx-1]="buf.push("+this.bufferStartChar+this.lastBuffered+'");'):(this.buf.push('buf.push("'+e+'");'),this.lastBufferedType="text",this.bufferStartChar='"',this.lastBuffered=e,this.lastBufferedIdx=this.buf.length)},bufferExpression:function(e){if(c(e))return this.buffer(l(e)+"",!1);this.lastBufferedIdx==this.buf.length?("text"===this.lastBufferedType&&(this.lastBuffered+='"'),this.lastBufferedType="code",this.lastBuffered+=" + ("+e+")",this.buf[this.lastBufferedIdx-1]="buf.push("+this.bufferStartChar+this.lastBuffered+");"):(this.buf.push("buf.push("+e+");"),this.lastBufferedType="code",this.bufferStartChar="",this.lastBuffered="("+e+")",this.lastBufferedIdx=this.buf.length)},prettyIndent:function(e,t){e=e||0,t=t?"\n":"",this.buffer(t+Array(this.indents+e).join("  ")),this.parentIndents&&this.buf.push("buf.push.apply(buf, jade_indent);")},visit:function(e){var t=this.debug;t&&this.buf.push("jade_debug.unshift({ lineno: "+e.line+", filename: "+(e.filename?JSON.stringify(e.filename):"jade_debug[0].filename")+" });"),!1===e.debug&&this.debug&&(this.buf.pop(),this.buf.pop()),this.visitNode(e),t&&this.buf.push("jade_debug.shift();")},visitNode:function(e){return this["visit"+e.type](e)},visitCase:function(e){var t=this.withinCase;this.withinCase=!0,this.buf.push("switch ("+e.expr+"){"),this.visit(e.block),this.buf.push("}"),this.withinCase=t},visitWhen:function(e){"default"==e.expr?this.buf.push("default:"):this.buf.push("case "+e.expr+":"),e.block&&(this.visit(e.block),this.buf.push("  break;"))},visitLiteral:function(e){this.buffer(e.str)},visitBlock:function(e){var t=e.nodes.length,n=this.escape,r=this.pp;r&&t>1&&!n&&e.nodes[0].isText&&e.nodes[1].isText&&this.prettyIndent(1,!0);for(var i=0;i<t;++i)r&&i>0&&!n&&e.nodes[i].isText&&e.nodes[i-1].isText&&this.prettyIndent(1,!1),this.visit(e.nodes[i]),e.nodes[i+1]&&e.nodes[i].isText&&e.nodes[i+1].isText&&this.buffer("\n")},visitMixinBlock:function(e){this.pp&&this.buf.push("jade_indent.push('"+Array(this.indents+1).join("  ")+"');"),this.buf.push("block && block();"),this.pp&&this.buf.push("jade_indent.pop();")},visitDoctype:function(e){!e||!e.val&&this.doctype||this.setDoctype(e.val||"default"),this.doctype&&this.buffer(this.doctype),this.hasCompiledDoctype=!0},visitMixin:function(e){var t="jade_mixins[",n=e.args||"",r=e.block,i=e.attrs,o=e.attributeBlocks,s=this.pp,a="#"===e.name[0],u=e.name;if(a&&(this.dynamicMixins=!0),t+=(a?e.name.substr(2,e.name.length-3):'"'+e.name+'"')+"]",this.mixins[u]=this.mixins[u]||{used:!1,instances:[]},e.call){if(this.mixins[u].used=!0,s&&this.buf.push("jade_indent.push('"+Array(this.indents+1).join("  ")+"');"),r||i.length||o.length){if(this.buf.push(t+".call({"),r){this.buf.push("block: function(){"),this.parentIndents++;var c=this.indents;this.indents=0,this.visit(e.block),this.indents=c,this.parentIndents--,i.length||o.length?this.buf.push("},"):this.buf.push("}")}if(o.length){if(i.length){var l=this.attrs(i);o.unshift(l)}this.buf.push("attributes: jade.merge(["+o.join(",")+"])")}else if(i.length){l=this.attrs(i);this.buf.push("attributes: "+l)}n?this.buf.push("}, "+n+");"):this.buf.push("});")}else this.buf.push(t+"("+n+");");s&&this.buf.push("jade_indent.pop();")}else{var f=this.buf.length;this.buf.push(t+" = function("+n+"){"),this.buf.push("var block = (this && this.block), attributes = (this && this.attributes) || {};"),this.parentIndents++,this.visit(r),this.parentIndents--,this.buf.push("};");var p=this.buf.length;this.mixins[u].instances.push({start:f,end:p})}},visitTag:function(e){this.indents++;var t=e.name,n=this.pp,r=this;function i(){e.buffer?r.bufferExpression(t):r.buffer(t)}if("pre"==e.name&&(this.escape=!0),this.hasCompiledTag||(this.hasCompiledDoctype||"html"!=t||this.visitDoctype(),this.hasCompiledTag=!0),n&&!e.isInline()&&this.prettyIndent(0,!0),e.selfClosing||!this.xml&&-1!==s.indexOf(e.name)){if(this.buffer("<"),i(),this.visitAttributes(e.attrs,e.attributeBlocks),this.terse?this.buffer(">"):this.buffer("/>"),e.block&&("Block"!==e.block.type||0!==e.block.nodes.length)&&e.block.nodes.some(function(e){return"Text"!==e.type||!/^\s*$/.test(e.val)}))throw f(e,new Error(t+" is self closing and should not have content."))}else this.buffer("<"),i(),this.visitAttributes(e.attrs,e.attributeBlocks),this.buffer(">"),e.code&&this.visitCode(e.code),this.visit(e.block),!n||e.isInline()||"pre"==e.name||e.canInline()||this.prettyIndent(0,!0),this.buffer("</"),i(),this.buffer(">");"pre"==e.name&&(this.escape=!1),this.indents--},visitFilter:function(e){var t=e.block.nodes.map(function(e){return e.val}).join("\n");e.attrs.filename=this.options.filename;try{this.buffer(r(e.name,t,e.attrs),!0)}catch(t){throw f(e,t)}},visitText:function(e){this.buffer(e.val,!0)},visitComment:function(e){e.buffer&&(this.pp&&this.prettyIndent(1,!0),this.buffer("\x3c!--"+e.val+"--\x3e"))},visitBlockComment:function(e){e.buffer&&(this.pp&&this.prettyIndent(1,!0),this.buffer("\x3c!--"+e.val),this.visit(e.block),this.pp&&this.prettyIndent(1,!0),this.buffer("--\x3e"))},visitCode:function(e){if(e.buffer){var t=e.val.trimLeft();t="null == (jade_interp = "+t+') ? "" : jade_interp',e.escape&&(t="jade.escape("+t+")"),this.bufferExpression(t)}else this.buf.push(e.val);e.block&&(e.buffer||this.buf.push("{"),this.visit(e.block),e.buffer||this.buf.push("}"))},visitEach:function(e){this.buf.push("// iterate "+e.obj+"\n;(function(){\n  var $$obj = "+e.obj+";\n  if ('number' == typeof $$obj.length) {\n"),e.alternative&&this.buf.push("  if ($$obj.length) {"),this.buf.push("    for (var "+e.key+" = 0, $$l = $$obj.length; "+e.key+" < $$l; "+e.key+"++) {\n      var "+e.val+" = $$obj["+e.key+"];\n"),this.visit(e.block),this.buf.push("    }\n"),e.alternative&&(this.buf.push("  } else {"),this.visit(e.alternative),this.buf.push("  }")),this.buf.push("  } else {\n    var $$l = 0;\n    for (var "+e.key+" in $$obj) {\n      $$l++;      var "+e.val+" = $$obj["+e.key+"];\n"),this.visit(e.block),this.buf.push("    }\n"),e.alternative&&(this.buf.push("    if ($$l === 0) {"),this.visit(e.alternative),this.buf.push("    }")),this.buf.push("  }\n}).call(this);\n")},visitAttributes:function(e,t){if(t.length){if(e.length){var n=this.attrs(e);t.unshift(n)}this.bufferExpression("jade.attrs(jade.merge(["+t.join(",")+"]), "+JSON.stringify(this.terse)+")")}else e.length&&this.attrs(e,!0)},attrs:function(e,t){var n=[],r=[],i=[];return e.forEach(function(e){var s=e.name,a=e.escaped;if("class"===s)r.push(e.val),i.push(e.escaped);else if(c(e.val))if(t)this.buffer(o.attr(s,l(e.val),a,this.terse));else{var u=l(e.val);!a||0===s.indexOf("data")&&"string"!=typeof u||(u=o.escape(u)),n.push(JSON.stringify(s)+": "+JSON.stringify(u))}else if(t)this.bufferExpression('jade.attr("'+s+'", '+e.val+", "+JSON.stringify(a)+", "+JSON.stringify(this.terse)+")");else{u=e.val;a&&0!==s.indexOf("data")?u="jade.escape("+u+")":a&&(u="(typeof (jade_interp = "+u+') == "string" ? jade.escape(jade_interp) : jade_interp)'),n.push(JSON.stringify(s)+": "+u)}}.bind(this)),t?r.every(c)?this.buffer(o.cls(r.map(l),i)):this.bufferExpression("jade.cls(["+r.join(",")+"], "+JSON.stringify(i)+")"):r.length&&(r=r.every(c)?JSON.stringify(o.joinClasses(r.map(l).map(o.joinClasses).map(function(e,t){return i[t]?o.escape(e):e}))):"(jade_interp = "+JSON.stringify(i)+", jade.joinClasses(["+r.join(",")+"].map(jade.joinClasses).map(function (cls, i) {   return jade_interp[i] ? jade.escape(cls) : cls })))").length&&n.push('"class": '+r),"{"+n.join(",")+"}"}}},{"./doctypes":2,"./filters":3,"./nodes":16,"./runtime":24,"./self-closing":25,"./utils":26,"character-parser":33,constantinople:34}],2:[function(e,t,n){t.exports={default:"<!DOCTYPE html>",xml:'<?xml version="1.0" encoding="utf-8" ?>',transitional:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',strict:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',frameset:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">',1.1:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',basic:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.1//EN" "http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd">',mobile:'<!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.2//EN" "http://www.openmobilealliance.org/tech/DTD/xhtml-mobile12.dtd">'}},{}],3:[function(e,t,n){t.exports=function e(t,n,r){if("function"!=typeof e[t])throw new Error('unknown filter ":'+t+'"');var i=e[t](n,r);return i}},{}],4:[function(e,t,n){t.exports=["a","abbr","acronym","b","br","code","em","font","i","img","ins","kbd","map","samp","small","span","strong","sub","sup"]},{}],5:[function(e,t,n){var r=e("./parser"),i=e("./lexer"),o=e("./compiler"),s=e("./runtime"),a=e("with"),u=e("fs");function c(e,t){var n,i=new(t.parser||r)(e,t.filename,t);try{n=i.parse()}catch(e){i=i.context(),s.rethrow(e,i.filename,i.lexer.lineno,i.input)}var u,c=new(t.compiler||o)(n,t);try{u=c.compile()}catch(e){!e.line||!e.filename&&t.filename||s.rethrow(e,e.filename,e.line,i.input)}t.debug&&console.error("\nCompiled Function:\n\n[90m%s[0m",u.replace(/^/gm,"  "));var l=[];return l.push("jade"),l.push("jade_mixins"),l.push("jade_interp"),l.push("jade_debug"),l.push("buf"),"var buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n"+(t.self?"var self = locals || {};\n"+u:a("locals || {}","\n"+u,l))+';return buf.join("");'}n.selfClosing=e("./self-closing"),n.doctypes=e("./doctypes"),n.filters=e("./filters"),n.utils=e("./utils"),n.Compiler=o,n.Parser=r,n.Lexer=i,n.nodes=e("./nodes"),n.runtime=s,n.cache={},n.compile=function(e,t){var r,i=(t=t||{}).filename?JSON.stringify(t.filename):"undefined";e=String(e),r=!1!==t.compileDebug?["var jade_debug = [{ lineno: 1, filename: "+i+" }];","try {",c(e,t),"} catch (err) {","  jade.rethrow(err, jade_debug[0].filename, jade_debug[0].lineno"+(!0===t.compileDebug?","+JSON.stringify(e):"")+");","}"].join("\n"):c(e,t),r=new Function("locals, jade",r);var o=function(e){return r(e,Object.create(s))};return t.client&&(o.toString=function(){var r=new Error("The `client` option is deprecated, use `jade.compileClient`");return console.error(r.stack||r.message),n.compileClient(e,t)}),o},n.compileClient=function(e,t){var n,r=(t=t||{}).filename?JSON.stringify(t.filename):"undefined";return e=String(e),t.compileDebug?(t.compileDebug=!0,n=["var jade_debug = [{ lineno: 1, filename: "+r+" }];","try {",c(e,t),"} catch (err) {","  jade.rethrow(err, jade_debug[0].filename, jade_debug[0].lineno, "+JSON.stringify(e)+");","}"].join("\n")):(t.compileDebug=!1,n=c(e,t)),"function template(locals) {\n"+n+"\n}"},n.render=function(e,t,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof r){var i;try{i=n.render(e,t)}catch(e){return r(e)}return r(null,i)}if((t=t||{}).cache&&!t.filename)throw new Error('the "filename" option is required for caching');var o=t.filename;return(t.cache?n.cache[o]||(n.cache[o]=n.compile(e,t)):n.compile(e,t))(t)},n.renderFile=function(e,t,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof r){var i;try{i=n.renderFile(e,t)}catch(e){return r(e)}return r(null,i)}var o=e+":string";(t=t||{}).filename=e;var s=t.cache?n.cache[o]||(n.cache[o]=u.readFileSync(e,"utf8")):u.readFileSync(e,"utf8");return n.render(s,t)},n.compileFileClient=function(e,t){var r=e+":string";(t=t||{}).filename=e;var i=t.cache?n.cache[r]||(n.cache[r]=u.readFileSync(e,"utf8")):u.readFileSync(e,"utf8");return n.compileClient(i,t)},n.__express=n.renderFile},{"./compiler":1,"./doctypes":2,"./filters":3,"./lexer":6,"./nodes":16,"./parser":23,"./runtime":24,"./self-closing":25,"./utils":26,fs:27,with:46}],6:[function(e,t,n){e("./utils");var r=e("character-parser");function i(e){Function("","return ("+e+")")}(t.exports=function(e,t){this.input=e.replace(/\r\n|\r/g,"\n"),this.filename=t,this.deferredTokens=[],this.lastIndents=0,this.lineno=1,this.stash=[],this.indentStack=[],this.indentRe=null,this.pipeless=!1}).prototype={tok:function(e,t){return{type:e,line:this.lineno,val:t}},consume:function(e){this.input=this.input.substr(e)},scan:function(e,t){var n;if(n=e.exec(this.input))return this.consume(n[0].length),this.tok(t,n[1])},defer:function(e){this.deferredTokens.push(e)},lookahead:function(e){for(var t=e-this.stash.length;t-- >0;)this.stash.push(this.next());return this.stash[--e]},bracketExpression:function(e){e=e||0;var t=this.input[e];if("("!=t&&"{"!=t&&"["!=t)throw new Error("unrecognized start character");var n={"(":")","{":"}","[":"]"}[t],i=r.parseMax(this.input,{start:e+1});if(this.input[i.end]!==n)throw new Error("start character "+t+" does not match end character "+this.input[i.end]);return i},stashed:function(){return this.stash.length&&this.stash.shift()},deferred:function(){return this.deferredTokens.length&&this.deferredTokens.shift()},eos:function(){if(!this.input.length)return this.indentStack.length?(this.indentStack.shift(),this.tok("outdent")):this.tok("eos")},blank:function(){var e;if(e=/^\n *\n/.exec(this.input))return this.consume(e[0].length-1),++this.lineno,this.pipeless?this.tok("text",""):this.next()},comment:function(){var e;if(e=/^\/\/(-)?([^\n]*)/.exec(this.input)){this.consume(e[0].length);var t=this.tok("comment",e[2]);return t.buffer="-"!=e[1],t}},interpolation:function(){if(/^#\{/.test(this.input)){var e;try{e=this.bracketExpression(1)}catch(e){return}return this.consume(e.end+1),this.tok("interpolation",e.src)}},tag:function(){var e;if(e=/^(\w[-:\w]*)(\/?)/.exec(this.input)){this.consume(e[0].length);var t,n=e[1];if(":"==n[n.length-1])for(n=n.slice(0,-1),t=this.tok("tag",n),this.defer(this.tok(":"));" "==this.input[0];)this.input=this.input.substr(1);else t=this.tok("tag",n);return t.selfClosing=!!e[2],t}},filter:function(){return this.scan(/^:([\w\-]+)/,"filter")},doctype:function(){if(this.scan(/^!!! *([^\n]+)?/,"doctype"))throw new Error("`!!!` is deprecated, you must now use `doctype`");var e=this.scan(/^(?:doctype) *([^\n]+)?/,"doctype");if(e&&e.val&&"5"===e.val.trim())throw new Error("`doctype 5` is deprecated, you must now use `doctype html`");return e},id:function(){return this.scan(/^#([\w-]+)/,"id")},className:function(){return this.scan(/^\.([\w-]+)/,"class")},text:function(){return this.scan(/^(?:\| ?| )([^\n]+)/,"text")||this.scan(/^(<[^\n]*)/,"text")},textFail:function(){var e;if(e=this.scan(/^([^\.\n][^\n]+)/,"text"))return console.warn("Warning: missing space before text for line "+this.lineno+' of jade file "'+this.filename+'"'),e},dot:function(){return this.scan(/^\./,"dot")},extends:function(){return this.scan(/^extends? +([^\n]+)/,"extends")},prepend:function(){var e;if(e=/^prepend +([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t=e[1],n=this.tok("block",t);return n.mode="prepend",n}},append:function(){var e;if(e=/^append +([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t=e[1],n=this.tok("block",t);return n.mode="append",n}},block:function(){var e;if(e=/^block\b *(?:(prepend|append) +)?([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t=e[1]||"replace",n=e[2],r=this.tok("block",n);return r.mode=t,r}},mixinBlock:function(){var e;if(e=/^block\s*(\n|$)/.exec(this.input))return this.consume(e[0].length-1),this.tok("mixin-block")},yield:function(){return this.scan(/^yield */,"yield")},include:function(){return this.scan(/^include +([^\n]+)/,"include")},includeFiltered:function(){var e;if(e=/^include:([\w\-]+) +([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t=e[1],n=e[2],r=this.tok("include",n);return r.filter=t,r}},case:function(){return this.scan(/^case +([^\n]+)/,"case")},when:function(){return this.scan(/^when +([^:\n]+)/,"when")},default:function(){return this.scan(/^default */,"default")},call:function(){var e,t;if(t=/^\+(([-\w]+)|(#\{))/.exec(this.input)){if(t[2])this.consume(t[0].length),e=this.tok("call",t[2]);else{var n;try{n=this.bracketExpression(2)}catch(e){return}this.consume(n.end+1),i(n.src),e=this.tok("call","#{"+n.src+"}")}if(t=/^ *\(/.exec(this.input))try{var r=this.bracketExpression(t[0].length-1);/^ *[-\w]+ *=/.test(r.src)||(this.consume(r.end+1),e.args=r.src)}catch(e){}return e}},mixin:function(){var e;if(e=/^mixin +([-\w]+)(?: *\((.*)\))? */.exec(this.input)){this.consume(e[0].length);var t=this.tok("mixin",e[1]);return t.args=e[2],t}},conditional:function(){var e;if(e=/^(if|unless|else if|else)\b([^\n]*)/.exec(this.input)){this.consume(e[0].length);var t=e[1],n=e[2],r=!1,o=!1;switch(t){case"if":i(n),n="if ("+n+")",r=!0;break;case"unless":i(n),n="if (!("+n+"))",r=!0;break;case"else if":i(n),n="else if ("+n+")",r=!0,o=!0;break;case"else":if(n&&n.trim())throw new Error("`else` cannot have a condition, perhaps you meant `else if`");n="else",o=!0}var s=this.tok("code",n);return s.isElse=o,s.isIf=r,s.requiresBlock=!0,s}},while:function(){var e;if(e=/^while +([^\n]+)/.exec(this.input)){this.consume(e[0].length),i(e[1]);var t=this.tok("code","while ("+e[1]+")");return t.requiresBlock=!0,t}},each:function(){var e;if(e=/^(?:- *)?(?:each|for) +([a-zA-Z_$][\w$]*)(?: *, *([a-zA-Z_$][\w$]*))? * in *([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t=this.tok("each",e[1]);return t.key=e[2]||"$index",i(e[3]),t.code=e[3],t}},code:function(){var e;if(e=/^(!?=|-)[ \t]*([^\n]+)/.exec(this.input)){this.consume(e[0].length);var t=e[1];e[1]=e[2];var n=this.tok("code",e[1]);return n.escape="="===t.charAt(0),n.buffer="="===t.charAt(0)||"="===t.charAt(1),n.buffer&&i(e[1]),n}},attrs:function(){if("("==this.input.charAt(0)){var e=this.bracketExpression().end,t=this.input.substr(1,e-1),n=this.tok("attrs");!function(e){if(r(e).isNesting())throw new Error("Nesting must match on expression `"+e+"`")}(t);var o="",s=function(e){return e.replace(/(\\)?#\{(.+)/g,function(e,t,n){if(t)return e;try{var a=r.parseMax(n);return"}"!==n[a.end]?e.substr(0,2)+s(e.substr(2)):(i(a.src),o+" + ("+a.src+") + "+o+s(n.substr(a.end+1)))}catch(t){return e.substr(0,2)+s(e.substr(2))}})};this.consume(e+1),n.attrs=[];var a=!0,u="",c="",l="",f=r.defaultState(),p="key",h=function(e){if(""===u.trim())return!1;if(e===t.length)return!0;if("key"===p){if(" "===t[e]||"\n"===t[e])for(var n=e;n<t.length;n++)if(" "!=t[n]&&"\n"!=t[n])return"="!==t[n]&&"!"!==t[n]&&","!==t[n];return","===t[e]}if("value"===p&&!f.isNesting())try{if(Function("","return ("+c+");")," "===t[e]||"\n"===t[e])for(n=e;n<t.length;n++)if(" "!=t[n]&&"\n"!=t[n])return!r.isPunctuator(t[n])||'"'==t[n]||"'"==t[n];return","===t[e]}catch(e){return!1}};this.lineno+=t.split("\n").length-1;for(var d=0;d<=t.length;d++)if(h(d))(c=c.trim())&&i(c),u=(u=u.trim()).replace(/^['"]|['"]$/g,""),n.attrs.push({name:u,val:""==c||c,escaped:a}),u=c="",p="key",a=!1;else switch(p){case"key-char":if(t[d]===o){if(p="key",d+1<t.length&&-1===[" ",",","!","=","\n"].indexOf(t[d+1]))throw new Error("Unexpected character "+t[d+1]+" expected ` `, `\\n`, `,`, `!` or `=`")}else u+=t[d];break;case"key":if(""!==u||'"'!==t[d]&&"'"!==t[d])if("!"===t[d]||"="===t[d]){if(a="!"!==t[d],"!"===t[d]&&d++,"="!==t[d])throw new Error("Unexpected character "+t[d]+" expected `=`");p="value",f=r.defaultState()}else u+=t[d];else p="key-char",o=t[d];break;case"value":(f=r.parseChar(t[d],f)).isString()?(p="string",o=t[d],l=t[d]):c+=t[d];break;case"string":f=r.parseChar(t[d],f),l+=t[d],f.isString()||(p="value",c+=s(l))}return"/"==this.input.charAt(0)&&(this.consume(1),n.selfClosing=!0),n}},attributesBlock:function(){if(/^&attributes\b/.test(this.input)){this.consume(11);var e=this.bracketExpression();return this.consume(e.end+1),this.tok("&attributes",e.src)}},indent:function(){var e,t;if(this.indentRe?e=this.indentRe.exec(this.input):((e=(t=/^\n(\t*) */).exec(this.input))&&!e[1].length&&(e=(t=/^\n( *)/).exec(this.input)),e&&e[1].length&&(this.indentRe=t)),e){var n,r=e[1].length;if(++this.lineno,this.consume(r+1)," "==this.input[0]||"\t"==this.input[0])throw new Error("Invalid indentation, you can use tabs or spaces but not both");if("\n"==this.input[0])return this.tok("newline");if(this.indentStack.length&&r<this.indentStack[0]){for(;this.indentStack.length&&this.indentStack[0]>r;)this.stash.push(this.tok("outdent")),this.indentStack.shift();n=this.stash.pop()}else r&&r!=this.indentStack[0]?(this.indentStack.unshift(r),n=this.tok("indent",r)):n=this.tok("newline");return n}},pipelessText:function(){if(this.pipeless){if("\n"==this.input[0])return;var e=this.input.indexOf("\n");-1==e&&(e=this.input.length);var t=this.input.substr(0,e);return this.consume(t.length),this.tok("text",t)}},colon:function(){return this.scan(/^: */,":")},fail:function(){if(/^ ($|\n)/.test(this.input))return this.consume(1),this.next();throw new Error("unexpected text "+this.input.substr(0,5))},advance:function(){return this.stashed()||this.next()},next:function(){return this.deferred()||this.blank()||this.eos()||this.pipelessText()||this.yield()||this.doctype()||this.interpolation()||this.case()||this.when()||this.default()||this.extends()||this.append()||this.prepend()||this.block()||this.mixinBlock()||this.include()||this.includeFiltered()||this.mixin()||this.call()||this.conditional()||this.each()||this.while()||this.tag()||this.filter()||this.code()||this.id()||this.className()||this.attrs()||this.attributesBlock()||this.indent()||this.text()||this.comment()||this.colon()||this.dot()||this.textFail()||this.fail()}}},{"./utils":26,"character-parser":33}],7:[function(e,t,n){var r=e("./node"),i=t.exports=function(){this.attributeNames=[],this.attrs=[],this.attributeBlocks=[]};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Attrs",i.prototype.setAttribute=function(e,t,n){if("class"!==e&&-1!==this.attributeNames.indexOf(e))throw new Error('Duplicate attribute "'+e+'" is not allowed.');return this.attributeNames.push(e),this.attrs.push({name:e,val:t,escaped:n}),this},i.prototype.removeAttribute=function(e){var t=new Error("attrs.removeAttribute is deprecated and will be removed in v2.0.0");console.warn(t.stack);for(var n=0,r=this.attrs.length;n<r;++n)this.attrs[n]&&this.attrs[n].name==e&&delete this.attrs[n]},i.prototype.getAttribute=function(e){var t=new Error("attrs.getAttribute is deprecated and will be removed in v2.0.0");console.warn(t.stack);for(var n=0,r=this.attrs.length;n<r;++n)if(this.attrs[n]&&this.attrs[n].name==e)return this.attrs[n].val},i.prototype.addAttributes=function(e){this.attributeBlocks.push(e)}},{"./node":20}],8:[function(e,t,n){var r=e("./node"),i=t.exports=function(e,t,n){this.block=t,this.val=e,this.buffer=n};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="BlockComment"},{"./node":20}],9:[function(e,t,n){var r=e("./node"),i=t.exports=function(e){this.nodes=[],e&&this.push(e)};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Block",i.prototype.isBlock=!0,i.prototype.replace=function(e){var t=new Error("block.replace is deprecated and will be removed in v2.0.0");console.warn(t.stack),e.nodes=this.nodes},i.prototype.push=function(e){return this.nodes.push(e)},i.prototype.isEmpty=function(){return 0==this.nodes.length},i.prototype.unshift=function(e){return this.nodes.unshift(e)},i.prototype.includeBlock=function(){for(var e,t=this,n=0,r=this.nodes.length;n<r;++n){if((e=this.nodes[n]).yield)return e;if(!e.textOnly&&(e.includeBlock?t=e.includeBlock():e.block&&!e.block.isEmpty()&&(t=e.block.includeBlock()),t.yield))return t}return t},i.prototype.clone=function(){var e=new Error("block.clone is deprecated and will be removed in v2.0.0");console.warn(e.stack);for(var t=new i,n=0,r=this.nodes.length;n<r;++n)t.push(this.nodes[n].clone());return t}},{"./node":20}],10:[function(e,t,n){var r=e("./node"),i=n=t.exports=function(e,t){this.expr=e,this.block=t};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Case";var o=n.When=function(e,t){this.expr=e,this.block=t,this.debug=!1};o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.type="When"},{"./node":20}],11:[function(e,t,n){var r=e("./node"),i=t.exports=function(e,t,n){this.val=e,this.buffer=t,this.escape=n,e.match(/^ *else/)&&(this.debug=!1)};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Code"},{"./node":20}],12:[function(e,t,n){var r=e("./node"),i=t.exports=function(e,t){this.val=e,this.buffer=t};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Comment"},{"./node":20}],13:[function(e,t,n){var r=e("./node"),i=t.exports=function(e){this.val=e};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Doctype"},{"./node":20}],14:[function(e,t,n){var r=e("./node"),i=t.exports=function(e,t,n,r){this.obj=e,this.val=t,this.key=n,this.block=r};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Each"},{"./node":20}],15:[function(e,t,n){var r=e("./node"),i=t.exports=function(e,t,n){this.name=e,this.block=t,this.attrs=n};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Filter"},{"./node":20}],16:[function(e,t,n){n.Node=e("./node"),n.Tag=e("./tag"),n.Code=e("./code"),n.Each=e("./each"),n.Case=e("./case"),n.Text=e("./text"),n.Block=e("./block"),n.MixinBlock=e("./mixin-block"),n.Mixin=e("./mixin"),n.Filter=e("./filter"),n.Comment=e("./comment"),n.Literal=e("./literal"),n.BlockComment=e("./block-comment"),n.Doctype=e("./doctype")},{"./block":9,"./block-comment":8,"./case":10,"./code":11,"./comment":12,"./doctype":13,"./each":14,"./filter":15,"./literal":17,"./mixin":19,"./mixin-block":18,"./node":20,"./tag":21,"./text":22}],17:[function(e,t,n){var r=e("./node"),i=t.exports=function(e){this.str=e};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Literal"},{"./node":20}],18:[function(e,t,n){var r=e("./node"),i=t.exports=function(){};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="MixinBlock"},{"./node":20}],19:[function(e,t,n){var r=e("./attrs"),i=t.exports=function(e,t,n,i){r.call(this),this.name=e,this.args=t,this.block=n,this.call=i};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Mixin"},{"./attrs":7}],20:[function(e,t,n){var r=t.exports=function(){};r.prototype.clone=function(){var e=new Error("node.clone is deprecated and will be removed in v2.0.0");return console.warn(e.stack),this},r.prototype.type=""},{}],21:[function(e,t,n){var r=e("./attrs"),i=e("./block"),o=e("../inline-tags"),s=t.exports=function(e,t){r.call(this),this.name=e,this.block=t||new i};s.prototype=Object.create(r.prototype),s.prototype.constructor=s,s.prototype.type="Tag",s.prototype.clone=function(){var e=new Error("tag.clone is deprecated and will be removed in v2.0.0");console.warn(e.stack);var t=new s(this.name,this.block.clone());return t.line=this.line,t.attrs=this.attrs,t.textOnly=this.textOnly,t},s.prototype.isInline=function(){return~o.indexOf(this.name)},s.prototype.canInline=function(){var e=this.block.nodes;function t(e){return e.isBlock?e.nodes.every(t):e.isText||e.isInline&&e.isInline()}if(!e.length)return!0;if(1==e.length)return t(e[0]);if(this.block.nodes.every(t)){for(var n=1,r=e.length;n<r;++n)if(e[n-1].isText&&e[n].isText)return!1;return!0}return!1}},{"../inline-tags":4,"./attrs":7,"./block":9}],22:[function(e,t,n){var r=e("./node"),i=t.exports=function(e){this.val=e};i.prototype=Object.create(r.prototype),i.prototype.constructor=i,i.prototype.type="Text",i.prototype.isText=!0},{"./node":20}],23:[function(e,t,n){var r=e("./lexer"),i=e("./nodes"),o=e("./utils"),s=e("./filters"),a=e("path"),u=e("constantinople"),c=e("character-parser").parseMax,l=(a.extname,t.exports=function(e,t,n){this.input=e.replace(/^\uFEFF/,""),this.lexer=new r(this.input,t),this.filename=t,this.blocks={},this.mixins={},this.options=n,this.contexts=[this],this.inMixin=!1});l.prototype={constructor:l,context:function(e){if(!e)return this.contexts.pop();this.contexts.push(e)},advance:function(){return this.lexer.advance()},peek:function(){return this.lookahead(1)},line:function(){return this.lexer.lineno},lookahead:function(e){return this.lexer.lookahead(e)},parse:function(){var e,t=new i.Block;for(t.line=0,t.filename=this.filename;"eos"!=this.peek().type;)if("newline"==this.peek().type)this.advance();else{var n=this.peek(),r=this.parseExpr();r.filename=r.filename||this.filename,r.line=n.line,t.push(r)}if(e=this.extending){this.context(e);var o=e.parse();for(var s in this.context(),this.mixins)o.unshift(this.mixins[s]);return o}return t},expect:function(e){if(this.peek().type===e)return this.advance();throw new Error('expected "'+e+'", but got "'+this.peek().type+'"')},accept:function(e){if(this.peek().type===e)return this.advance()},parseExpr:function(){switch(this.peek().type){case"tag":return this.parseTag();case"mixin":return this.parseMixin();case"block":return this.parseBlock();case"mixin-block":return this.parseMixinBlock();case"case":return this.parseCase();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"doctype":return this.parseDoctype();case"filter":return this.parseFilter();case"comment":return this.parseComment();case"text":return this.parseText();case"each":return this.parseEach();case"code":return this.parseCode();case"call":return this.parseCall();case"interpolation":return this.parseInterpolation();case"yield":this.advance();var e=new i.Block;return e.yield=!0,e;case"id":case"class":var t=this.advance();return this.lexer.defer(this.lexer.tok("tag","div")),this.lexer.defer(t),this.parseExpr();default:throw new Error('unexpected token "'+this.peek().type+'"')}},parseText:function(){var e=this.expect("text"),t=this.parseTextWithInlineTags(e.val);if(1===t.length)return t[0];for(var n=new i.Block,r=0;r<t.length;r++)n.push(t[r]);return n},parseBlockExpansion:function(){return":"==this.peek().type?(this.advance(),new i.Block(this.parseExpr())):this.block()},parseCase:function(){var e=this.expect("case").val,t=new i.Case(e);t.line=this.line();var n=new i.Block;for(n.line=this.line(),n.filename=this.filename,this.expect("indent");"outdent"!=this.peek().type;)switch(this.peek().type){case"newline":this.advance();break;case"when":n.push(this.parseWhen());break;case"default":n.push(this.parseDefault());break;default:throw new Error('Unexpected token "'+this.peek().type+'", expected "when", "default" or "newline"')}return this.expect("outdent"),t.block=n,t},parseWhen:function(){var e=this.expect("when").val;return"newline"!==this.peek().type?new i.Case.When(e,this.parseBlockExpansion()):new i.Case.When(e)},parseDefault:function(){return this.expect("default"),new i.Case.When("default",this.parseBlockExpansion())},parseCode:function(e){var t,n=this.expect("code"),r=new i.Code(n.val,n.buffer,n.escape);if(r.line=this.line(),n.isElse&&!n.hasIf)throw new Error("Unexpected else without if");return(t="indent"==this.peek().type)&&(r.block=this.block()),n.requiresBlock&&!t&&(r.block=new i.Block),n.isIf&&this.peek().isElse?this.peek().hasIf=!0:n.isIf&&"newline"===this.peek().type&&this.lookahead(2).isElse&&(this.lookahead(2).hasIf=!0),r},parseComment:function(){var e,t=this.expect("comment");return"indent"==this.peek().type?(this.lexer.pipeless=!0,e=new i.BlockComment(t.val,this.parseTextBlock(),t.buffer),this.lexer.pipeless=!1):e=new i.Comment(t.val,t.buffer),e.line=this.line(),e},parseDoctype:function(){var e=this.expect("doctype"),t=new i.Doctype(e.val);return t.line=this.line(),t},parseFilter:function(){var e,t=this.expect("filter"),n=this.accept("attrs");"indent"==this.peek().type?(this.lexer.pipeless=!0,e=this.parseTextBlock(),this.lexer.pipeless=!1):e=new i.Block;var r={};n&&n.attrs.forEach(function(e){r[e.name]=u.toConstant(e.val)});var o=new i.Filter(t.val,e,r);return o.line=this.line(),o},parseEach:function(){var e=this.expect("each"),t=new i.Each(e.code,e.val,e.key);return t.line=this.line(),t.block=this.block(),"code"==this.peek().type&&"else"==this.peek().val&&(this.advance(),t.alternative=this.block()),t},resolvePath:function(t,n){var r=e("path"),i=r.dirname,o=r.basename,s=r.join;if("/"!==t[0]&&!this.filename)throw new Error('the "filename" option is required to use "'+n+'" with "relative" paths');if("/"===t[0]&&!this.options.basedir)throw new Error('the "basedir" option is required to use "'+n+'" with "absolute" paths');return-1===o(t=s("/"===t[0]?this.options.basedir:i(this.filename),t)).indexOf(".")&&(t+=".jade"),t},parseExtends:function(){var t=e("fs"),n=this.resolvePath(this.expect("extends").val.trim(),"extends");".jade"!=n.substr(-5)&&(n+=".jade");var r=t.readFileSync(n,"utf8"),o=new this.constructor(r,n,this.options);return o.blocks=this.blocks,o.contexts=this.contexts,this.extending=o,new i.Literal("")},parseBlock:function(){var e=this.expect("block"),t=e.mode,n=e.val.trim();e="indent"==this.peek().type?this.block():new i.Block(new i.Literal(""));var r=this.blocks[n]||{prepended:[],appended:[]};if("replace"===r.mode)return this.blocks[n]=r;var o=r.prepended.concat(e.nodes).concat(r.appended);switch(t){case"append":r.appended=r.parser===this?r.appended.concat(e.nodes):e.nodes.concat(r.appended);break;case"prepend":r.prepended=r.parser===this?e.nodes.concat(r.prepended):r.prepended.concat(e.nodes)}return e.nodes=o,e.appended=r.appended,e.prepended=r.prepended,e.mode=t,e.parser=this,this.blocks[n]=e},parseMixinBlock:function(){this.expect("mixin-block");if(!this.inMixin)throw new Error("Anonymous blocks are not allowed unless they are part of a mixin.");return new i.MixinBlock},parseInclude:function(){var t=e("fs"),n=this.expect("include"),r=this.resolvePath(n.val.trim(),"include");if(n.filter){var a=t.readFileSync(r,"utf8").replace(/\r/g,"");return a=s(n.filter,a,{filename:r}),new i.Literal(a)}if(".jade"!=r.substr(-5)){a=t.readFileSync(r,"utf8").replace(/\r/g,"");return new i.Literal(a)}a=t.readFileSync(r,"utf8");var u=new this.constructor(a,r,this.options);u.blocks=o.merge({},this.blocks),u.mixins=this.mixins,this.context(u);var c=u.parse();return this.context(),c.filename=r,"indent"==this.peek().type&&c.includeBlock().push(this.block()),c},parseCall:function(){var e=this.expect("call"),t=e.val,n=e.args,r=new i.Mixin(t,n,new i.Block,!0);return this.tag(r),r.code&&(r.block.push(r.code),r.code=null),r.block.isEmpty()&&(r.block=null),r},parseMixin:function(){var e,t=this.expect("mixin"),n=t.val,r=t.args;return"indent"==this.peek().type?(this.inMixin=!0,e=new i.Mixin(n,r,this.block(),!1),this.mixins[n]=e,this.inMixin=!1,e):new i.Mixin(n,r,null,!0)},parseTextWithInlineTags:function(e){var t=this.line(),n=/(\\)?#\[((?:.|\n)*)$/.exec(e);if(n){var r;if(n[1])return(r=new i.Text(e.substr(0,n.index)+"#[")).line=t,"Text"===(s=this.parseTextWithInlineTags(n[2]))[0].type&&(r.val+=s[0].val,s.shift()),[r].concat(s);(r=new i.Text(e.substr(0,n.index))).line=t;var o=[r],s=n[2],a=c(s),u=new l(a.src,this.filename,this.options);return o.push(u.parse()),o.concat(this.parseTextWithInlineTags(s.substr(a.end+1)))}return(r=new i.Text(e)).line=t,[r]},parseTextBlock:function(){var e=new i.Block;e.line=this.line();var t=this.expect("indent").val;null==this._spaces&&(this._spaces=t);for(var n=Array(t-this._spaces+1).join(" ");"outdent"!=this.peek().type;)switch(this.peek().type){case"newline":this.advance();break;case"indent":this.parseTextBlock(!0).nodes.forEach(function(t){e.push(t)});break;default:this.parseTextWithInlineTags(n+this.advance().val).forEach(function(t){e.push(t)})}return t==this._spaces&&(this._spaces=null),this.expect("outdent"),e},block:function(){var e=new i.Block;for(e.line=this.line(),e.filename=this.filename,this.expect("indent");"outdent"!=this.peek().type;)if("newline"==this.peek().type)this.advance();else{var t=this.parseExpr();t.filename=this.filename,e.push(t)}return this.expect("outdent"),e},parseInterpolation:function(){var e=this.advance(),t=new i.Tag(e.val);return t.buffer=!0,this.tag(t)},parseTag:function(){var e=this.advance(),t=new i.Tag(e.val);return t.selfClosing=e.selfClosing,this.tag(t)},tag:function(e){e.line=this.line();var t=!1;e:for(;;)switch(this.peek().type){case"id":case"class":var n=this.advance();e.setAttribute(n.type,"'"+n.val+"'");continue;case"attrs":t&&console.warn(this.filename+", line "+this.peek().line+":\nYou should not have jade tags with multiple attributes."),t=!0;var r=(n=this.advance()).attrs;n.selfClosing&&(e.selfClosing=!0);for(var o=0;o<r.length;o++)e.setAttribute(r[o].name,r[o].val,r[o].escaped);continue;case"&attributes":n=this.advance();e.addAttributes(n.val);break;default:break e}switch("dot"==this.peek().type&&(e.textOnly=!0,this.advance()),this.peek().type){case"text":e.block.push(this.parseText());break;case"code":e.code=this.parseCode();break;case":":this.advance(),e.block=new i.Block,e.block.push(this.parseExpr());break;case"newline":case"indent":case"outdent":case"eos":break;default:throw new Error("Unexpected token `"+this.peek().type+"` expected `text`, `code`, `:`, `newline` or `eos`")}for(;"newline"==this.peek().type;)this.advance();if("indent"==this.peek().type)if(e.textOnly)this.lexer.pipeless=!0,e.block=this.parseTextBlock(),this.lexer.pipeless=!1;else for(var s=this.block(),a=(o=0,s.nodes.length);o<a;++o)e.block.push(s.nodes[o]);return e}}},{"./filters":3,"./lexer":6,"./nodes":16,"./utils":26,"character-parser":33,constantinople:34,fs:27,path:30}],24:[function(e,t,n){function r(e){return null!=e&&""!==e}function i(e){return Array.isArray(e)?e.map(i).filter(r).join(" "):e}n.merge=function e(t,n){if(1===arguments.length){for(var i=t[0],o=1;o<t.length;o++)i=e(i,t[o]);return i}var s=t.class,a=n.class;for(var u in(s||a)&&(s=s||[],a=a||[],Array.isArray(s)||(s=[s]),Array.isArray(a)||(a=[a]),t.class=s.concat(a).filter(r)),n)"class"!=u&&(t[u]=n[u]);return t},n.joinClasses=i,n.cls=function(e,t){for(var r=[],o=0;o<e.length;o++)t&&t[o]?r.push(n.escape(i([e[o]]))):r.push(i(e[o]));var s=i(r);return s.length?' class="'+s+'"':""},n.attr=function(e,t,r,i){return"boolean"==typeof t||null==t?t?" "+(i?e:e+'="'+e+'"'):"":0==e.indexOf("data")&&"string"!=typeof t?" "+e+"='"+JSON.stringify(t).replace(/'/g,"&apos;")+"'":r?" "+e+'="'+n.escape(t)+'"':" "+e+'="'+t+'"'},n.attrs=function(e,t){var r=[],o=Object.keys(e);if(o.length)for(var s=0;s<o.length;++s){var a=o[s],u=e[a];"class"==a?(u=i(u))&&r.push(" "+a+'="'+u+'"'):r.push(n.attr(a,u,!1,t))}return r.join("")},n.escape=function(e){var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return t===""+e?e:t},n.rethrow=function t(n,r,i,o){if(!(n instanceof Error))throw n;if(!("undefined"==typeof window&&r||o))throw n.message+=" on line "+i,n;try{o=o||e("fs").readFileSync(r,"utf8")}catch(e){t(n,null,i)}var s=3,a=o.split("\n"),u=Math.max(i-s,0),c=Math.min(a.length,i+s);s=a.slice(u,c).map(function(e,t){var n=t+u+1;return(n==i?"  > ":"    ")+n+"| "+e}).join("\n");throw n.path=r,n.message=(r||"Jade")+":"+i+"\n"+s+"\n\n"+n.message,n}},{fs:27}],25:[function(e,t,n){t.exports=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]},{}],26:[function(e,t,n){n.merge=function(e,t){for(var n in t)e[n]=t[n];return e}},{}],27:[function(e,t,n){},{}],28:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],29:[function(e,t,n){var r=t.exports={};r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),n.length>0&&n.shift()())},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],30:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,r="/"===s.charAt(0))}return n=t(o(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),i="/"===s(e,-1);return(e=t(o(e.split("/"),function(e){return!!e}),!r).join("/"))||r||(e="."),e&&i&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push("..");return(c=c.concat(o.slice(a))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return i(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("/Users/forbeslindesay/GitHub/jade/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/forbeslindesay/GitHub/jade/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":29}],31:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],32:[function(e,t,n){(function(t,r){var i=/%[sdj%]/g;n.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<o;u=r[++n])m(u)||!_(u)?s+=" "+u:s+=" "+a(u);return s},n.deprecate=function(e,i){if(b(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var o,s={};function a(e,t){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(t)?r.showHidden=t:t&&n._extend(r,t),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function l(e,t,r){if(e.customInspect&&t&&x(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return v(i)||(i=l(e,i,r)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,t);if(o)return o;var s=Object.keys(t),a=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),A(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(t);if(0===s.length){if(x(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(y(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(A(t))return f(t)}var c,_="",k=!1,E=["{","}"];(h(t)&&(k=!0,E=["[","]"]),x(t))&&(_=" [Function"+(t.name?": "+t.name:"")+"]");return y(t)&&(_=" "+RegExp.prototype.toString.call(t)),w(t)&&(_=" "+Date.prototype.toUTCString.call(t)),A(t)&&(_=" "+f(t)),0!==s.length||k&&0!=t.length?r<0?y(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=k?function(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)S(t,String(s))?o.push(p(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))}),o}(e,t,r,a,s):s.map(function(n){return p(e,t,r,a,n,k)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,_,E)):E[0]+_+E[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),S(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=m(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function h(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function b(e){return void 0===e}function y(e){return _(e)&&"[object RegExp]"===k(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===k(e)}function A(e){return _(e)&&("[object Error]"===k(e)||e instanceof Error)}function x(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}n.debuglog=function(e){if(b(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var r=t.pid;s[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else s[e]=function(){};return s[e]},n.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=d,n.isNull=m,n.isNullOrUndefined=function(e){return null==e},n.isNumber=g,n.isString=v,n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=b,n.isRegExp=y,n.isObject=_,n.isDate=w,n.isError=A,n.isFunction=x,n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e("./support/isBuffer");var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":"),[e.getDate(),C[e.getMonth()],t].join(" ")),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("/Users/forbeslindesay/GitHub/jade/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":31,"/Users/forbeslindesay/GitHub/jade/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":29,inherits:28}],33:[function(e,t,n){function r(e,t,r){r=r||{},t=t||n.defaultState();for(var i=r.start||0,o=r.end||e.length,s=i;s<o;){if(t.roundDepth<0||t.curlyDepth<0||t.squareDepth<0)throw new SyntaxError("Mismatched Bracket: "+e[s-1]);n.parseChar(e[s++],t)}return t}function i(){this.lineComment=!1,this.blockComment=!1,this.singleQuote=!1,this.doubleQuote=!1,this.regexp=!1,this.escaped=!1,this.roundDepth=0,this.curlyDepth=0,this.squareDepth=0,this.history=""}function o(e,t,n){return e.substr(n||0,t.length)===t}function s(e){switch(e.charCodeAt(0)){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:case 37:case 38:case 42:case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 33:case 61:return!0;default:return!1}}function a(e){return"if"===e||"in"===e||"do"===e||"var"===e||"for"===e||"new"===e||"try"===e||"let"===e||"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e||"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e||"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e||"default"===e||"finally"===e||"extends"===e||"function"===e||"continue"===e||"debugger"===e||"package"===e||"private"===e||"interface"===e||"instanceof"===e||"implements"===e||"protected"===e||"public"===e||"static"===e||"yield"===e||"let"===e}(n=t.exports=r).parse=r,n.parseMax=function(e,t){var r=(t=t||{}).start||0,i=r,o=n.defaultState();for(;o.roundDepth>=0&&o.curlyDepth>=0&&o.squareDepth>=0;){if(i>=e.length)throw new Error("The end of the string was reached with no closing bracket found.");n.parseChar(e[i++],o)}var s=i-1;return{start:r,end:s,src:e.substring(r,s)}},n.parseUntil=function(e,t,r){var i=(r=r||{}).includeLineComment||!1,s=r.start||0,a=s,u=n.defaultState();for(;u.isString()||u.regexp||u.blockComment||!i&&u.lineComment||!o(e,t,a);)n.parseChar(e[a++],u);var c=a;return{start:s,end:c,src:e.substring(s,c)}},n.parseChar=function(e,t){if(1!==e.length)throw new Error("Character must be a string of length 1");var r=(t=t||n.defaultState()).blockComment||t.lineComment,i=t.history?t.history[0]:"";t.lineComment?"\n"===e&&(t.lineComment=!1):t.blockComment?"*"===t.lastChar&&"/"===e&&(t.blockComment=!1):t.singleQuote?"'"!==e||t.escaped?"\\"!==e||t.escaped?t.escaped=!1:t.escaped=!0:t.singleQuote=!1:t.doubleQuote?'"'!==e||t.escaped?"\\"!==e||t.escaped?t.escaped=!1:t.escaped=!0:t.doubleQuote=!1:t.regexp?"/"!==e||t.escaped?"\\"!==e||t.escaped?t.escaped=!1:t.escaped=!0:t.regexp=!1:"/"===i&&"/"===e?(t.history=t.history.substr(1),t.lineComment=!0):"/"===i&&"*"===e?(t.history=t.history.substr(1),t.blockComment=!0):"/"===e&&(o=t.history,")"!==(o=o.replace(/^\s*/,""))[0]&&("}"===o[0]||s(o[0])||/^\w+\b/.test(o)&&a(/^\w+\b/.exec(o)[0].split("").reverse().join(""))))?t.regexp=!0:"'"===e?t.singleQuote=!0:'"'===e?t.doubleQuote=!0:"("===e?t.roundDepth++:")"===e?t.roundDepth--:"{"===e?t.curlyDepth++:"}"===e?t.curlyDepth--:"["===e?t.squareDepth++:"]"===e&&t.squareDepth--;var o;t.blockComment||t.lineComment||r||(t.history=e+t.history);return t},n.defaultState=function(){return new i},i.prototype.isString=function(){return this.singleQuote||this.doubleQuote},i.prototype.isComment=function(){return this.lineComment||this.blockComment},i.prototype.isNesting=function(){return this.isString()||this.isComment()||this.regexp||this.roundDepth>0||this.curlyDepth>0||this.squareDepth>0},n.isPunctuator=s,n.isKeyword=a},{}],34:[function(e,t,n){var r=e("uglify-js"),i="(null)",o=!0,s=void 0;function a(e,t){if(i===(e="("+e+")")&&s===t)return o;i=e;try{return o=0===function(e){var t=r.parse(e.toString());return t.figure_out_scope(),t.globals.map(function(e,t){return t})}(e).filter(function(e){return!(t&&e in t)}).length}catch(e){return o=!1}}t.exports=a,a.isConstant=a,a.toConstant=function(e,t){if(!a(e,t))throw new Error(JSON.stringify(e)+" is not constant.");return Function(Object.keys(t||{}).join(","),"return ("+e+")").apply(null,Object.keys(t||{}).map(function(e){return t[e]}))}},{"uglify-js":45}],35:[function(e,t,n){n.SourceMapGenerator=e("./source-map/source-map-generator").SourceMapGenerator,n.SourceMapConsumer=e("./source-map/source-map-consumer").SourceMapConsumer,n.SourceNode=e("./source-map/source-node").SourceNode},{"./source-map/source-map-consumer":40,"./source-map/source-map-generator":41,"./source-map/source-node":42}],36:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){var r=e("./util");function i(){this._array=[],this._set={}}i.fromArray=function(e,t){for(var n=new i,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},i.prototype.add=function(e,t){var n=this.has(e),i=this._array.length;n&&!t||this._array.push(e),n||(this._set[r.toSetString(e)]=i)},i.prototype.has=function(e){return Object.prototype.hasOwnProperty.call(this._set,r.toSetString(e))},i.prototype.indexOf=function(e){if(this.has(e))return this._set[r.toSetString(e)];throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i})},{"./util":43,amdefine:44}],37:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){var r=e("./base64");t.encode=function(e){var t,n="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),n+=r.encode(t)}while(i>0);return n},t.decode=function(e){var t,n,i,o,s=0,a=e.length,u=0,c=0;do{if(s>=a)throw new Error("Expected more digits in base 64 VLQ value.");t=!!(32&(n=r.decode(e.charAt(s++)))),u+=(n&=31)<<c,c+=5}while(t);return{value:(i=u,o=i>>1,1==(1&i)?-o:o),rest:e.slice(s)}}})},{"./base64":38,amdefine:44}],38:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){var r={},i={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function(e,t){r[e]=t,i[t]=e}),t.encode=function(e){if(e in i)return i[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){if(e in r)return r[e];throw new TypeError("Not a valid base 64 digit: "+e)}})},{amdefine:44}],39:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){t.search=function(e,t,n){return t.length>0?function e(t,n,r,i,o){var s=Math.floor((n-t)/2)+t,a=o(r,i[s],!0);return 0===a?i[s]:a>0?n-s>1?e(s,n,r,i,o):i[s]:s-t>1?e(t,s,r,i,o):t<0?null:i[t]}(-1,t.length,e,t,n):null}})},{amdefine:44}],40:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){var r=e("./util"),i=e("./binary-search"),o=e("./array-set").ArraySet,s=e("./base64-vlq");function a(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),i=r.getArg(t,"sources"),s=r.getArg(t,"names",[]),a=r.getArg(t,"sourceRoot",null),u=r.getArg(t,"sourcesContent",null),c=r.getArg(t,"mappings"),l=r.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);this._names=o.fromArray(s,!0),this._sources=o.fromArray(i,!0),this.sourceRoot=a,this.sourcesContent=u,this._mappings=c,this.file=l}a.fromSourceMap=function(e){var t=Object.create(a.prototype);return t._names=o.fromArray(e._names.toArray(),!0),t._sources=o.fromArray(e._sources.toArray(),!0),t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file,t.__generatedMappings=e._mappings.slice().sort(r.compareByGeneratedPositions),t.__originalMappings=e._mappings.slice().sort(r.compareByOriginalPositions),t},a.prototype._version=3,Object.defineProperty(a.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return this.sourceRoot?r.join(this.sourceRoot,e):e},this)}}),a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),a.prototype._parseMappings=function(e,t){for(var n,i,o=1,a=0,u=0,c=0,l=0,f=0,p=/^[,;]/,h=e;h.length>0;)if(";"===h.charAt(0))o++,h=h.slice(1),a=0;else if(","===h.charAt(0))h=h.slice(1);else{if((n={}).generatedLine=o,i=s.decode(h),n.generatedColumn=a+i.value,a=n.generatedColumn,(h=i.rest).length>0&&!p.test(h.charAt(0))){if(i=s.decode(h),n.source=this._sources.at(l+i.value),l+=i.value,0===(h=i.rest).length||p.test(h.charAt(0)))throw new Error("Found a source, but no line and column");if(i=s.decode(h),n.originalLine=u+i.value,u=n.originalLine,n.originalLine+=1,0===(h=i.rest).length||p.test(h.charAt(0)))throw new Error("Found a source and line, but no column");i=s.decode(h),n.originalColumn=c+i.value,c=n.originalColumn,(h=i.rest).length>0&&!p.test(h.charAt(0))&&(i=s.decode(h),n.name=this._names.at(f+i.value),f+=i.value,h=i.rest)}this.__generatedMappings.push(n),"number"==typeof n.originalLine&&this.__originalMappings.push(n)}this.__generatedMappings.sort(r.compareByGeneratedPositions),this.__originalMappings.sort(r.compareByOriginalPositions)},a.prototype._findMapping=function(e,t,n,r,o){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return i.search(e,t,o)},a.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositions);if(n&&n.generatedLine===t.generatedLine){var i=r.getArg(n,"source",null);return i&&this.sourceRoot&&(i=r.join(this.sourceRoot,i)),{source:i,line:r.getArg(n,"originalLine",null),column:r.getArg(n,"originalColumn",null),name:r.getArg(n,"name",null)}}return{source:null,line:null,column:null,name:null}},a.prototype.sourceContentFor=function(e){if(!this.sourcesContent)return null;if(this.sourceRoot&&(e=r.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var t;if(this.sourceRoot&&(t=r.urlParse(this.sourceRoot))){var n=e.replace(/^file:\/\//,"");if("file"==t.scheme&&this._sources.has(n))return this.sourcesContent[this._sources.indexOf(n)];if((!t.path||"/"==t.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}throw new Error('"'+e+'" is not in the SourceMap.')},a.prototype.generatedPositionFor=function(e){var t={source:r.getArg(e,"source"),originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")};this.sourceRoot&&(t.source=r.relative(this.sourceRoot,t.source));var n=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions);return n?{line:r.getArg(n,"generatedLine",null),column:r.getArg(n,"generatedColumn",null)}:{line:null,column:null}},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.prototype.eachMapping=function(e,t,n){var i,o=t||null;switch(n||a.GENERATED_ORDER){case a.GENERATED_ORDER:i=this._generatedMappings;break;case a.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;i.map(function(e){var t=e.source;return t&&s&&(t=r.join(s,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:e.name}}).forEach(e,o)},t.SourceMapConsumer=a})},{"./array-set":36,"./base64-vlq":37,"./binary-search":39,"./util":43,amdefine:44}],41:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){var r=e("./base64-vlq"),i=e("./util"),o=e("./array-set").ArraySet;function s(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._sources=new o,this._names=new o,this._mappings=[],this._sourcesContents=null}s.prototype._version=3,s.fromSourceMap=function(e){var t=e.sourceRoot,n=new s({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};e.source&&(r.source=e.source,t&&(r.source=i.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(t){var r=e.sourceContentFor(t);r&&n.setSourceContent(t,r)}),n},s.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),n=i.getArg(e,"original",null),r=i.getArg(e,"source",null),o=i.getArg(e,"name",null);this._validateMapping(t,n,r,o),r&&!this._sources.has(r)&&this._sources.add(r),o&&!this._names.has(o)&&this._names.add(o),this._mappings.push({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},s.prototype.setSourceContent=function(e,t){var n=e;this._sourceRoot&&(n=i.relative(this._sourceRoot,n)),null!==t?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[i.toSetString(n)]=t):(delete this._sourcesContents[i.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(e,t,n){if(!t){if(!e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');t=e.file}var r=this._sourceRoot;r&&(t=i.relative(r,t));var s=new o,a=new o;this._mappings.forEach(function(o){if(o.source===t&&o.originalLine){var u=e.originalPositionFor({line:o.originalLine,column:o.originalColumn});null!==u.source&&(o.source=u.source,n&&(o.source=i.join(n,o.source)),r&&(o.source=i.relative(r,o.source)),o.originalLine=u.line,o.originalColumn=u.column,null!==u.name&&null!==o.name&&(o.name=u.name))}var c=o.source;c&&!s.has(c)&&s.add(c);var l=o.name;l&&!a.has(l)&&a.add(l)},this),this._sources=s,this._names=a,e.sources.forEach(function(t){var n=e.sourceContentFor(t);n&&(r&&(t=i.relative(r,t)),this.setSourceContent(t,n))},this)},s.prototype._validateMapping=function(e,t,n,r){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},s.prototype._serializeMappings=function(){var e,t=0,n=1,o=0,s=0,a=0,u=0,c="";this._mappings.sort(i.compareByGeneratedPositions);for(var l=0,f=this._mappings.length;l<f;l++){if((e=this._mappings[l]).generatedLine!==n)for(t=0;e.generatedLine!==n;)c+=";",n++;else if(l>0){if(!i.compareByGeneratedPositions(e,this._mappings[l-1]))continue;c+=","}c+=r.encode(e.generatedColumn-t),t=e.generatedColumn,e.source&&(c+=r.encode(this._sources.indexOf(e.source)-u),u=this._sources.indexOf(e.source),c+=r.encode(e.originalLine-1-s),s=e.originalLine-1,c+=r.encode(e.originalColumn-o),o=e.originalColumn,e.name&&(c+=r.encode(this._names.indexOf(e.name)-a),a=this._names.indexOf(e.name)))}return c},s.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;t&&(e=i.relative(t,e));var n=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},s.prototype.toJSON=function(){var e={version:this._version,file:this._file,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},s.prototype.toString=function(){return JSON.stringify(this)},t.SourceMapGenerator=s})},{"./array-set":36,"./base64-vlq":37,"./util":43,amdefine:44}],42:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){var r=e("./source-map-generator").SourceMapGenerator,i=e("./util");function o(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=void 0===e?null:e,this.column=void 0===t?null:t,this.source=void 0===n?null:n,this.name=void 0===i?null:i,null!=r&&this.add(r)}o.fromStringWithSourceMap=function(e,t){var n=new o,r=e.split("\n"),i=1,s=0,a=null;if(t.eachMapping(function(e){if(null!==a){if(!(i<e.generatedLine)){t=(o=r[0]).substr(0,e.generatedColumn-s);return r[0]=o.substr(e.generatedColumn-s),s=e.generatedColumn,c(a,t),void(a=e)}var t="";c(a,r.shift()+"\n"),i++,s=0}for(;i<e.generatedLine;)n.add(r.shift()+"\n"),i++;if(s<e.generatedColumn){var o=r[0];n.add(o.substr(0,e.generatedColumn)),r[0]=o.substr(e.generatedColumn),s=e.generatedColumn}a=e},this),r.length>0){if(a){var u=r.shift();r.length>0&&(u+="\n"),c(a,u)}n.add(r.join("\n"))}return t.sources.forEach(function(e){var r=t.sourceContentFor(e);r&&n.setSourceContent(e,r)}),n;function c(e,t){null===e||void 0===e.source?n.add(t):n.add(new o(e.originalLine,e.originalColumn,e.source,t,e.name))}},o.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!(e instanceof o||"string"==typeof e))throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},o.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!(e instanceof o||"string"==typeof e))throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},o.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])instanceof o?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},o.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},o.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n instanceof o?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},o.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},o.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t]instanceof o&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(i.fromSetString(r[t]),this.sourceContents[r[t]])},o.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},o.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),i=!1,o=null,s=null,a=null,u=null;return this.walk(function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(o===r.source&&s===r.line&&a===r.column&&u===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),o=r.source,s=r.line,a=r.column,u=r.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,i=!1),e.split("").forEach(function(e,s,a){"\n"===e?(t.line++,t.column=0,s+1===a.length?(o=null,i=!1):i&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++})}),this.walkSourceContents(function(e,t){n.setSourceContent(e,t)}),{code:t.code,map:n}},t.SourceNode=o})},{"./source-map-generator":41,"./util":43,amdefine:44}],43:[function(e,t,n){if("function"!=typeof r)var r=e("amdefine")(t,e);r(function(e,t,n){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,i=/^data:.+\,.+$/;function o(e){var t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function s(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(e){var t=e,n=o(e);if(n){if(!n.path)return e;t=n.path}for(var r,i="/"===t.charAt(0),a=t.split(/\/+/),u=0,c=a.length-1;c>=0;c--)"."===(r=a[c])?a.splice(c,1):".."===r?u++:u>0&&(""===r?(a.splice(c+1,u),u=0):(a.splice(c,2),u--));return""===(t=a.join("/"))&&(t=i?"/":"."),n?(n.path=t,s(n)):t}function u(e,t){var n=e||"",r=t||"";return(n>r)-(n<r)}t.urlParse=o,t.urlGenerate=s,t.normalize=a,t.join=function(e,t){var n=o(t),r=o(e);if(r&&(e=r.path||"/"),n&&!n.scheme)return r&&(n.scheme=r.scheme),s(n);if(n||t.match(i))return t;if(r&&!r.host&&!r.path)return r.host=t,s(r);var u="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return r?(r.path=u,s(r)):u},t.toSetString=function(e){return"$"+e},t.fromSetString=function(e){return e.substr(1)},t.relative=function(e,t){var n=o(e=e.replace(/\/$/,""));return"/"==t.charAt(0)&&n&&"/"==n.path?t.slice(1):0===t.indexOf(e+"/")?t.substr(e.length+1):t},t.compareByOriginalPositions=function(e,t,n){var r;return(r=u(e.source,t.source))?r:(r=e.originalLine-t.originalLine)?r:(r=e.originalColumn-t.originalColumn)||n?r:(r=u(e.name,t.name))?r:(r=e.generatedLine-t.generatedLine)||e.generatedColumn-t.generatedColumn},t.compareByGeneratedPositions=function(e,t,n){var r;return(r=e.generatedLine-t.generatedLine)?r:(r=e.generatedColumn-t.generatedColumn)||n?r:(r=u(e.source,t.source))?r:(r=e.originalLine-t.originalLine)?r:(r=e.originalColumn-t.originalColumn)||u(e.name,t.name)}})},{amdefine:44}],44:[function(e,t,n){(function(n,r){t.exports=function(t,i){var o,s,a={},u={},c=!1,l=e("path");function f(e,t){var n;return e&&"."===e.charAt(0)&&t&&(function(e){var t,n;for(t=0;e[t];t+=1)if("."===(n=e[t]))e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}(n=(n=(n=t.split("/")).slice(0,n.length-1)).concat(e.split("/"))),e=n.join("/")),e}function p(e,n,s){var a,l,f,p;if(e)l=u[e]={},a=o(i,l,f={id:e,uri:r,exports:l},e);else{if(c)throw new Error("amdefine with no module ID cannot be called more than once per file.");c=!0,l=t.exports,a=o(i,l,f=t,t.id)}n&&(n=n.map(function(e){return a(e)})),void 0!==(p="function"==typeof s?s.apply(f.exports,n):s)&&(f.exports=p,e&&(u[e]=f.exports))}function h(e,t,n){Array.isArray(e)?(n=t,t=e,e=void 0):"string"!=typeof e&&(n=e,e=t=void 0),t&&!Array.isArray(t)&&(n=t,t=void 0),t||(t=["require","exports","module"]),e?a[e]=[e,t,n]:p(e,t,n)}return o=function(e,t,r,i){function o(o,a){if("string"==typeof o)return s(e,t,r,o,i);o=o.map(function(n){return s(e,t,r,n,i)}),n.nextTick(function(){a.apply(null,o)})}return o.toUrl=function(e){return 0===e.indexOf(".")?f(e,l.dirname(r.filename)):e},o},i=i||function(){return t.require.apply(t,arguments)},s=function(e,t,n,r,i){var c,l,h,d=r.indexOf("!"),m=r;if(-1===d){if("require"===(r=f(r,i)))return o(e,t,n,i);if("exports"===r)return t;if("module"===r)return n;if(u.hasOwnProperty(r))return u[r];if(a[r])return p.apply(null,a[r]),u[r];if(e)return e(m);throw new Error("No module with ID: "+r)}return c=r.substring(0,d),r=r.substring(d+1,r.length),r=(l=s(e,t,n,c,i)).normalize?l.normalize(r,(h=i,function(e){return f(e,h)})):f(r,i),u[r]?u[r]:(l.load(r,o(e,t,n,i),function(e){function t(t){u[e]=t}return t.fromText=function(e,t){throw new Error("amdefine does not implement load.fromText")},t}(r),{}),u[r])},h.require=function(e){return u[e]?u[e]:a[e]?(p.apply(null,a[e]),u[e]):void 0},h.amd={},h}}).call(this,e("/Users/forbeslindesay/GitHub/jade/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"/../node_modules/uglify-js/node_modules/source-map/node_modules/amdefine/amdefine.js")},{"/Users/forbeslindesay/GitHub/jade/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":29,path:30}],45:[function(e,t,n){var r=e("util"),i=e("source-map"),o=n;function s(e){for(var t=Object.create(null),n=0;n<e.length;++n)t[e[n]]=!0;return t}function a(e){return e.split("")}function u(e,t){for(var n=t.length;--n>=0;)if(t[n]==e)return!0;return!1}function c(e,t){for(var n=0,r=t.length;n<r;++n)if(e(t[n]))return t[n]}function l(e,t){if(t<=0)return"";if(1==t)return e;var n=l(e,t>>1);return n+=n,1&t&&(n+=e),n}function f(e,t){Error.call(this,e),this.msg=e,this.defs=t}function p(e,t,n){!0===e&&(e={});var r=e||{};if(n)for(var i in r)r.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&f.croak("`"+i+"` is not a supported option",t);for(var i in t)t.hasOwnProperty(i)&&(r[i]=e&&e.hasOwnProperty(i)?e[i]:t[i]);return r}function h(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function d(){}f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.croak=function(e,t){throw new f(e,t)};var m=function(){function e(e,o,s){var a,u=[],c=[];function l(){var l=o(e[a],a),f=l instanceof i;return f&&(l=l.v),l instanceof n?(l=l.v)instanceof r?c.push.apply(c,s?l.v.slice().reverse():l.v):c.push(l):l!==t&&(l instanceof r?u.push.apply(u,s?l.v.slice().reverse():l.v):u.push(l)),f}if(e instanceof Array)if(s){for(a=e.length;--a>=0&&!l(););u.reverse(),c.reverse()}else for(a=0;a<e.length&&!l();++a);else for(a in e)if(e.hasOwnProperty(a)&&l())break;return c.concat(u)}e.at_top=function(e){return new n(e)},e.splice=function(e){return new r(e)},e.last=function(e){return new i(e)};var t=e.skip={};function n(e){this.v=e}function r(e){this.v=e}function i(e){this.v=e}return e}();function g(e,t){e.indexOf(t)<0&&e.push(t)}function v(e,t){return e.replace(/\{(.+?)\}/g,function(e,n){return t[n]})}function b(e,t){for(var n=e.length;--n>=0;)e[n]===t&&e.splice(n,1)}function y(e,t){if(e.length<2)return e.slice();return function e(n){if(n.length<=1)return n;var r=Math.floor(n.length/2),i=n.slice(0,r),o=n.slice(r);return function(e,n){for(var r=[],i=0,o=0,s=0;i<e.length&&o<n.length;)t(e[i],n[o])<=0?r[s++]=e[i++]:r[s++]=n[o++];return i<e.length&&r.push.apply(r,e.slice(i)),o<n.length&&r.push.apply(r,n.slice(o)),r}(i=e(i),o=e(o))}(e)}function _(e){e instanceof Array||(e=e.split(" "));var t="",n=[];e:for(var r=0;r<e.length;++r){for(var i=0;i<n.length;++i)if(n[i][0].length==e[r].length){n[i].push(e[r]);continue e}n.push([e[r]])}function o(e){if(1==e.length)return t+="return str === "+JSON.stringify(e[0])+";";t+="switch(str){";for(var n=0;n<e.length;++n)t+="case "+JSON.stringify(e[n])+":";t+="return true}return false;"}if(n.length>3){n.sort(function(e,t){return t.length-e.length}),t+="switch(str.length){";for(r=0;r<n.length;++r){var s=n[r];t+="case "+s[0].length+":",o(s)}t+="}"}else o(e);return new Function("str",t)}function w(e,t){for(var n=e.length;--n>=0;)if(!t(e[n]))return!1;return!0}function A(){this._values=Object.create(null),this._size=0}function x(e,t,n,r){arguments.length<4&&(r=E);var i=t=t?t.split(/\s+/):[];r&&r.PROPS&&(t=t.concat(r.PROPS));for(var o="return function AST_"+e+"(props){ if (props) { ",s=t.length;--s>=0;)o+="this."+t[s]+" = props."+t[s]+";";var a=r&&new r;(a&&a.initialize||n&&n.initialize)&&(o+="this.initialize();"),o+="}}";var u=new Function(o)();if(a&&(u.prototype=a,u.BASE=r),r&&r.SUBCLASSES.push(u),u.prototype.CTOR=u,u.PROPS=t||null,u.SELF_PROPS=i,u.SUBCLASSES=[],e&&(u.prototype.TYPE=u.TYPE=e),n)for(s in n)n.hasOwnProperty(s)&&(/^\$/.test(s)?u[s.substr(1)]=n[s]:u.prototype[s]=n[s]);return u.DEFMETHOD=function(e,t){this.prototype[e]=t},u}A.prototype={set:function(e,t){return this.has(e)||++this._size,this._values["$"+e]=t,this},add:function(e,t){return this.has(e)?this.get(e).push(t):this.set(e,[t]),this},get:function(e){return this._values["$"+e]},del:function(e){return this.has(e)&&(--this._size,delete this._values["$"+e]),this},has:function(e){return"$"+e in this._values},each:function(e){for(var t in this._values)e(this._values[t],t.substr(1))},size:function(){return this._size},map:function(e){var t=[];for(var n in this._values)t.push(e(this._values[n],n.substr(1)));return t}};var k=x("Token","type value line col pos endpos nlb comments_before file",{},null),E=x("Node","start end",{clone:function(){return new this.CTOR(this)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},_walk:function(e){return e._visit(this)},walk:function(e){return this._walk(e)}},null);E.warn_function=null,E.warn=function(e,t){E.warn_function&&E.warn_function(v(e,t))};var C=x("Statement",null,{$documentation:"Base class of all statements"}),S=x("Debugger",null,{$documentation:"Represents a debugger statement"},C),D=x("Directive","value scope",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",scope:"[AST_Scope/S] The scope that this directive affects"}},C),B=x("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_walk:function(e){return e._visit(this,function(){this.body._walk(e)})}},C);function F(e,t){e.body instanceof C?e.body._walk(t):e.body.forEach(function(e){e._walk(t)})}var T=x("Block","body",{$documentation:"A body of statements (usually bracketed)",$propdoc:{body:"[AST_Statement*] an array of statements"},_walk:function(e){return e._visit(this,function(){F(this,e)})}},C),O=x("BlockStatement",null,{$documentation:"A block statement"},T),j=x("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)",_walk:function(e){return e._visit(this)}},C),$=x("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"},_walk:function(e){return e._visit(this,function(){this.body._walk(e)})}},C),M=x("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_walk:function(e){return e._visit(this,function(){this.label._walk(e),this.body._walk(e)})}},$),N=x("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},$),R=x("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e)})}},N),P=x("Do",null,{$documentation:"A `do` statement"},R),I=x("While",null,{$documentation:"A `while` statement"},R),L=x("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_walk:function(e){return e._visit(this,function(){this.init&&this.init._walk(e),this.condition&&this.condition._walk(e),this.step&&this.step._walk(e),this.body._walk(e)})}},N),q=x("ForIn","init name object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",name:"[AST_SymbolRef?] the loop variable, only if `init` is AST_Var",object:"[AST_Node] the object that we're looping through"},_walk:function(e){return e._visit(this,function(){this.init._walk(e),this.object._walk(e),this.body._walk(e)})}},N),z=x("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.body._walk(e)})}},$),H=x("Scope","directives variables functions uses_with uses_eval parent_scope enclosed cname",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{directives:"[string*/S] an array of directives declared in this scope",variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",functions:"[Object/S] like `variables`, but only lists function declarations",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST_Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"}},T),U=x("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap_enclose:function(e){var t=this,n=[],r=[];e.forEach(function(e){var t=e.split(":");n.push(t[0]),r.push(t[1])});var i="(function("+r.join(",")+"){ '$ORIG'; })("+n.join(",")+")";return i=(i=Lt(i)).transform(new qt(function(e){if(e instanceof D&&"$ORIG"==e.value)return m.splice(t.body)}))},wrap_commonjs:function(e,t){var n=this,r=[];t&&(n.figure_out_scope(),n.walk(new it(function(e){e instanceof $e&&e.definition().global&&(c(function(t){return t.name==e.name},r)||r.push(e))})));var i="(function(exports, global){ global['"+e+"'] = exports; '$ORIG'; '$EXPORTS'; }({}, (function(){return this}())))";return i=(i=Lt(i)).transform(new qt(function(e){if(e instanceof B&&(e=e.body)instanceof Ge)switch(e.getValue()){case"$ORIG":return m.splice(n.body);case"$EXPORTS":var t=[];return r.forEach(function(e){t.push(new B({body:new Ee({left:new ye({expression:new ze({name:"exports"}),property:new Ge({value:e.name})}),operator:"=",right:new ze(e)})}))}),m.splice(t)}}))}},H),W=x("Lambda","name argnames uses_arguments",{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[AST_SymbolFunarg*] array of function arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},_walk:function(e){return e._visit(this,function(){this.name&&this.name._walk(e),this.argnames.forEach(function(t){t._walk(e)}),F(this,e)})}},H),G=x("Accessor",null,{$documentation:"A setter/getter function.  The `name` property is always null."},W),J=x("Function",null,{$documentation:"A function expression"},W),V=x("Defun",null,{$documentation:"A function definition"},W),Y=x("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},C),X=x("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_walk:function(e){return e._visit(this,this.value&&function(){this.value._walk(e)})}},Y),Q=x("Return",null,{$documentation:"A `return` statement"},X),K=x("Throw",null,{$documentation:"A `throw` statement"},X),Z=x("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_walk:function(e){return e._visit(this,this.label&&function(){this.label._walk(e)})}},Y),ee=x("Break",null,{$documentation:"A `break` statement"},Z),te=x("Continue",null,{$documentation:"A `continue` statement"},Z),ne=x("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e),this.alternative&&this.alternative._walk(e)})}},$),re=x("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),F(this,e)})}},T),ie=x("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},T),oe=x("Default",null,{$documentation:"A `default` switch branch"},ie),se=x("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),F(this,e)})}},ie),ae=x("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_walk:function(e){return e._visit(this,function(){F(this,e),this.bcatch&&this.bcatch._walk(e),this.bfinally&&this.bfinally._walk(e)})}},T),ue=x("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST_SymbolCatch] symbol for the exception"},_walk:function(e){return e._visit(this,function(){this.argname._walk(e),F(this,e)})}},T),ce=x("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},T),le=x("Definitions","definitions",{$documentation:"Base class for `var` or `const` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_walk:function(e){return e._visit(this,function(){this.definitions.forEach(function(t){t._walk(e)})})}},C),fe=x("Var",null,{$documentation:"A `var` statement"},le),pe=x("Const",null,{$documentation:"A `const` statement"},le),he=x("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_SymbolVar|AST_SymbolConst] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_walk:function(e){return e._visit(this,function(){this.name._walk(e),this.value&&this.value._walk(e)})}}),de=x("Call","expression args",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.args.forEach(function(t){t._walk(e)})})}}),me=x("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},de),ge=x("Seq","car cdr",{$documentation:"A sequence expression (two comma-separated expressions)",$propdoc:{car:"[AST_Node] first element in sequence",cdr:"[AST_Node] second element in sequence"},$cons:function(e,t){var n=new ge(e);return n.car=e,n.cdr=t,n},$from_array:function(e){if(0==e.length)return null;if(1==e.length)return e[0].clone();for(var t=null,n=e.length;--n>=0;)t=ge.cons(e[n],t);for(var r=t;r;){if(r.cdr&&!r.cdr.cdr){r.cdr=r.cdr.car;break}r=r.cdr}return t},to_array:function(){for(var e=this,t=[];e;){if(t.push(e.car),e.cdr&&!(e.cdr instanceof ge)){t.push(e.cdr);break}e=e.cdr}return t},add:function(e){for(var t=this;t;){if(!(t.cdr instanceof ge)){var n=ge.cons(t.cdr,e);return t.cdr=n}t=t.cdr}},_walk:function(e){return e._visit(this,function(){this.car._walk(e),this.cdr&&this.cdr._walk(e)})}}),ve=x("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"}}),be=x("Dot",null,{$documentation:"A dotted property access expression",_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}},ve),ye=x("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.property._walk(e)})}},ve),_e=x("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}}),we=x("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},_e),Ae=x("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},_e),xe=x("Binary","left operator right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_walk:function(e){return e._visit(this,function(){this.left._walk(e),this.right._walk(e)})}}),ke=x("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.consequent._walk(e),this.alternative._walk(e)})}}),Ee=x("Assign",null,{$documentation:"An assignment expression — `a = b + 5`"},xe),Ce=x("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_walk:function(e){return e._visit(this,function(){this.elements.forEach(function(t){t._walk(e)})})}}),Se=x("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},_walk:function(e){return e._visit(this,function(){this.properties.forEach(function(t){t._walk(e)})})}}),De=x("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string] the property name converted to a string for ObjectKeyVal.  For setters and getters this is an arbitrary AST_Node.",value:"[AST_Node] property value.  For setters and getters this is an AST_Function."},_walk:function(e){return e._visit(this,function(){this.value._walk(e)})}}),Be=x("ObjectKeyVal",null,{$documentation:"A key: value object property"},De),Fe=x("ObjectSetter",null,{$documentation:"An object setter property"},De),Te=x("ObjectGetter",null,{$documentation:"An object getter property"},De),Oe=x("Symbol","scope name thedef",{$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"}),je=x("SymbolAccessor",null,{$documentation:"The name of a property accessor (setter/getter function)"},Oe),$e=x("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var/const, function name or argument, symbol in catch)",$propdoc:{init:"[AST_Node*/S] array of initializers for this declaration."}},Oe),Me=x("SymbolVar",null,{$documentation:"Symbol defining a variable"},$e),Ne=x("SymbolConst",null,{$documentation:"A constant declaration"},$e),Re=x("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},Me),Pe=x("SymbolDefun",null,{$documentation:"Symbol defining a function"},$e),Ie=x("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},$e),Le=x("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},$e),qe=x("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},Oe),ze=x("SymbolRef",null,{$documentation:"Reference to some symbol (not definition/declaration)"},Oe),He=x("LabelRef",null,{$documentation:"Reference to a label symbol"},Oe),Ue=x("This",null,{$documentation:"The `this` symbol"},Oe),We=x("Constant",null,{$documentation:"Base class for all constants",getValue:function(){return this.value}}),Ge=x("String","value",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string"}},We),Je=x("Number","value",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value"}},We),Ve=x("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},We),Ye=x("Atom",null,{$documentation:"Base class for atoms"},We),Xe=x("Null",null,{$documentation:"The `null` atom",value:null},Ye),Qe=x("NaN",null,{$documentation:"The impossible value",value:NaN},Ye),Ke=x("Undefined",null,{$documentation:"The `undefined` value",value:void 0},Ye),Ze=x("Hole",null,{$documentation:"A hole in an array",value:void 0},Ye),et=x("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},Ye),tt=x("Boolean",null,{$documentation:"Base class for booleans"},Ye),nt=x("False",null,{$documentation:"The `false` atom",value:!1},tt),rt=x("True",null,{$documentation:"The `true` atom",value:!0},tt);function it(e){this.visit=e,this.stack=[]}it.prototype={_visit:function(e,t){this.stack.push(e);var n=this.visit(e,t?function(){t.call(e)}:d);return!n&&t&&t.call(e),this.stack.pop(),n},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){this.stack.push(e)},pop:function(){return this.stack.pop()},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){for(var t=this.stack,n=t.length;--n>=0;){var r=t[n];if(r instanceof e)return r}},has_directive:function(e){return this.find_parent(H).has_directive(e)},in_boolean_context:function(){for(var e=this.stack,t=e.length,n=e[--t];t>0;){var r=e[--t];if(r instanceof ne&&r.condition===n||r instanceof ke&&r.condition===n||r instanceof R&&r.condition===n||r instanceof L&&r.condition===n||r instanceof we&&"!"==r.operator&&r.expression===n)return!0;if(!(r instanceof xe)||"&&"!=r.operator&&"||"!=r.operator)return!1;n=r}},loopcontrol_target:function(e){var t=this.stack;if(e)for(var n=t.length;--n>=0;){if((r=t[n])instanceof M&&r.label.name==e.name)return r.body}else for(n=t.length;--n>=0;){var r;if((r=t[n])instanceof re||r instanceof N)return r}}};var ot="break case catch const continue debugger default delete do else finally for function if in instanceof new return switch throw try typeof var void while with",st="false null true",at="abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized this throws transient volatile yield "+st+" "+ot,ut="return new delete throw else case";ot=_(ot),at=_(at),ut=_(ut),st=_(st);var ct=_(a("+-*&%=<>!?|~^")),lt=/^0x[0-9a-f]+$/i,ft=/^0[0-7]+$/,pt=/^\d*\.?\d*(?:e[+-]?\d*(?:\d\.?|\.?\d)\d*)?$/i,ht=_(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),dt=_(a("  \n\r\t\f\v​᠎             　")),mt=_(a("[{(,.;:")),gt=_(a("[]{}(),;:")),vt=_(a("gmsiy")),bt={letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0523\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0621-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971\\u0972\\u097B-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D28\\u0D2A-\\u0D39\\u0D3D\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC\\u0EDD\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8B\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10D0-\\u10FA\\u10FC\\u1100-\\u1159\\u115F-\\u11A2\\u11A8-\\u11F9\\u1200-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u1676\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19A9\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u2094\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2C6F\\u2C71-\\u2C7D\\u2C80-\\u2CE4\\u2D00-\\u2D25\\u2D30-\\u2D65\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31B7\\u31F0-\\u31FF\\u3400\\u4DB5\\u4E00\\u9FC3\\uA000-\\uA48C\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA65F\\uA662-\\uA66E\\uA67F-\\uA697\\uA717-\\uA71F\\uA722-\\uA788\\uA78B\\uA78C\\uA7FB-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA90A-\\uA925\\uA930-\\uA946\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAC00\\uD7A3\\uF900-\\uFA2D\\uFA30-\\uFA6A\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")};function yt(e){return e>=97&&e<=122||e>=65&&e<=90||e>=170&&bt.letter.test(String.fromCharCode(e))}function _t(e){return e>=48&&e<=57}function wt(e){return _t(e)||yt(e)}function At(e){return bt.non_spacing_mark.test(e)||bt.space_combining_mark.test(e)}function xt(e){return bt.connector_punctuation.test(e)}function kt(e){return!at(e)&&/^[a-z_$][a-z0-9_$]*$/i.test(e)}function Et(e){return 36==e||95==e||yt(e)}function Ct(e){var t=e.charCodeAt(0);return Et(t)||_t(t)||8204==t||8205==t||At(e)||xt(e)}function St(e){var t=e.length;if(0==t)return!1;if(!Et(e.charCodeAt(0)))return!1;for(;--t>=0;)if(!Ct(e.charAt(t)))return!1;return!0}function Dt(e){return lt.test(e)?parseInt(e.substr(2),16):ft.test(e)?parseInt(e.substr(1),8):pt.test(e)?parseFloat(e):void 0}function Bt(e,t,n,r){this.message=e,this.line=t,this.col=n,this.pos=r,this.stack=(new Error).stack}function Ft(e,t,n,r,i){throw new Bt(e,n,r,i)}function Tt(e,t,n){return e.type==t&&(null==n||e.value==n)}Bt.prototype.toString=function(){return this.message+" (line: "+this.line+", col: "+this.col+", pos: "+this.pos+")\n\n"+this.stack};var Ot={};function jt(e,t,n){var r={text:e.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/\uFEFF/g,""),filename:t,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[]};function i(){return r.text.charAt(r.pos)}function o(e,t){var n=r.text.charAt(r.pos++);if(e&&!n)throw Ot;return"\n"==n?(r.newline_before=r.newline_before||!t,++r.line,r.col=0):++r.col,n}function s(e){for(;e-- >0;)o()}function a(e){return r.text.substr(r.pos,e.length)==e}function u(e,t){var n=r.text.indexOf(e,r.pos);if(t&&-1==n)throw Ot;return n}var c=!1;function l(e,n,i){r.regex_allowed="operator"==e&&!Mt(n)||"keyword"==e&&ut(n)||"punc"==e&&mt(n),c="punc"==e&&"."==n;var o={type:e,value:n,line:r.tokline,col:r.tokcol,pos:r.tokpos,endpos:r.pos,nlb:r.newline_before,file:t};if(!i){o.comments_before=r.comments_before,r.comments_before=[];for(var s=0,a=o.comments_before.length;s<a;s++)o.nlb=o.nlb||o.comments_before[s].nlb}return r.newline_before=!1,new k(o)}function f(e){for(var t,n="",r=0;(t=i())&&e(t,r++);)n+=o();return n}function p(e){Ft(e,0,r.tokline,r.tokcol,r.tokpos)}function h(e){var t=!1,n=!1,r=!1,i="."==e,o=f(function(o,s){var a=o.charCodeAt(0);switch(a){case 120:case 88:return!r&&(r=!0);case 101:case 69:return!!r||!t&&(t=n=!0);case 45:return n||0==s&&!e;case 43:return n;case n=!1,46:return!(i||r||t)&&(i=!0)}return wt(a)});e&&(o=e+o);var s=Dt(o);if(!isNaN(s))return l("num",s);p("Invalid syntax: "+o)}function d(e){var t=o(!0,e);switch(t.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 48:return"\0";case 120:return String.fromCharCode(m(2));case 117:return String.fromCharCode(m(4));case 10:return"";default:return t}}function m(e){for(var t=0;e>0;--e){var n=parseInt(o(!0),16);isNaN(n)&&p("Invalid hex-character pattern in string"),t=t<<4|n}return t}var g=A("Unterminated string constant",function(){for(var e=o(),t="";;){var n=o(!0);if("\\"==n){var r=0,i=null;n=f(function(e){if(e>="0"&&e<="7"){if(!i)return i=e,++r;if(i<="3"&&r<=2)return++r;if(i>="4"&&r<=1)return++r}return!1}),n=r>0?String.fromCharCode(parseInt(n,8)):d(!0)}else if(n==e)break;t+=n}return l("string",t)});function v(e){var t,n=r.regex_allowed,i=u("\n");return-1==i?(t=r.text.substr(r.pos),r.pos=r.text.length):(t=r.text.substring(r.pos,i),r.pos=i),r.comments_before.push(l(e,t,!0)),r.regex_allowed=n,x()}var b=A("Unterminated multiline comment",function(){var e=r.regex_allowed,t=u("*/",!0),n=r.text.substring(r.pos,t),i=n.split("\n"),o=i.length;r.pos=t+2,r.line+=o-1,o>1?r.col=i[o-1].length:r.col+=i[o-1].length,r.col+=2;var s=r.newline_before=r.newline_before||n.indexOf("\n")>=0;return r.comments_before.push(l("comment2",n,!0)),r.regex_allowed=e,r.newline_before=s,x()});function y(){for(var e,t,n=!1,r="",s=!1;null!=(e=i());)if(n)"u"!=e&&p("Expecting UnicodeEscapeSequence -- uXXXX"),Ct(e=d())||p("Unicode char: "+e.charCodeAt(0)+" is not valid in identifier"),r+=e,n=!1;else if("\\"==e)s=n=!0,o();else{if(!Ct(e))break;r+=o()}return ot(r)&&s&&(t=r.charCodeAt(0).toString(16).toUpperCase(),r="\\u"+"0000".substr(t.length)+t+r.slice(1)),r}var _=A("Unterminated regular expression",function(e){for(var t,n=!1,r=!1;t=o(!0);)if(n)e+="\\"+t,n=!1;else if("["==t)r=!0,e+=t;else if("]"==t&&r)r=!1,e+=t;else{if("/"==t&&!r)break;"\\"==t?n=!0:e+=t}var i=y();return l("regexp",new RegExp(e,i))});function w(e){return l("operator",function e(t){if(!i())return t;var n=t+i();return ht(n)?(o(),e(n)):t}(e||o()))}function A(e,t){return function(n){try{return t(n)}catch(t){if(t!==Ot)throw t;p(e)}}}function x(e){if(null!=e)return _(e);if(function(){for(;dt(i());)o()}(),r.tokline=r.line,r.tokcol=r.col,r.tokpos=r.pos,n){if(a("\x3c!--"))return s(4),v("comment3");if(a("--\x3e")&&r.newline_before)return s(3),v("comment4")}var t=i();if(!t)return l("eof");var u,f=t.charCodeAt(0);switch(f){case 34:case 39:return g();case 46:return o(),_t(i().charCodeAt(0))?h("."):l("punc",".");case 47:return function(){switch(o(),i()){case"/":return o(),v("comment1");case"*":return o(),b()}return r.regex_allowed?_(""):w("/")}()}return _t(f)?h():gt(t)?l("punc",o()):ct(t)?w():92==f||Et(f)?(u=y(),c?l("name",u):st(u)?l("atom",u):ot(u)?ht(u)?l("operator",u):l("keyword",u):l("name",u)):void p("Unexpected character '"+t+"'")}return x.context=function(e){return e&&(r=e),r},x}var $t=_(["typeof","void","delete","--","++","!","~","-","+"]),Mt=_(["--","++"]),Nt=_(["=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="]),Rt=function(e,t){for(var n=0;n<e.length;++n)for(var r=e[n],i=0;i<r.length;++i)t[r[i]]=n+1;return t}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),Pt=s(["for","do","while","switch"]),It=s(["atom","num","string","regexp","name"]);function Lt(e,t){t=p(t,{strict:!1,filename:null,toplevel:null,expression:!1,html5_comments:!0});var n={input:"string"==typeof e?jt(e,t.filename,t.html5_comments):e,token:null,prev:null,peeked:null,in_function:0,in_directives:!0,in_loop:0,labels:[]};function r(e,t){return Tt(n.token,e,t)}function i(){return n.peeked||(n.peeked=n.input())}function o(){return n.prev=n.token,n.peeked?(n.token=n.peeked,n.peeked=null):n.token=n.input(),n.in_directives=n.in_directives&&("string"==n.token.type||r("punc",";")),n.token}function s(){return n.prev}function a(e,t,r,i){var o=n.input.context();Ft(e,o.filename,null!=t?t:o.tokline,null!=r?r:o.tokcol,null!=i?i:o.tokpos)}function u(e,t){a(t,e.line,e.col)}function l(e){null==e&&(e=n.token),u(e,"Unexpected token: "+e.type+" ("+e.value+")")}function f(e,t){if(r(e,t))return o();u(n.token,"Unexpected token "+n.token.type+" «"+n.token.value+"», expected "+e+" «"+t+"»")}function h(e){return f("punc",e)}function d(){return!t.strict&&(n.token.nlb||r("eof")||r("punc","}"))}function m(){r("punc",";")?o():d()||l()}function g(){h("(");var e=Ye(!0);return h(")"),e}function v(e){return function(){var t=n.token,r=e(),i=s();return r.start=t,r.end=i,r}}function b(){(r("operator","/")||r("operator","/="))&&(n.peeked=null,n.token=n.input(n.token.value.substr(1)))}n.token=o();var y=v(function(){var e;switch(b(),n.token.type){case"string":var t=n.in_directives,u=_();return t&&u.body instanceof Ge&&!r("punc",",")?new D({value:u.body.value}):u;case"num":case"regexp":case"operator":case"atom":return _();case"name":return Tt(i(),"punc",":")?function(){var e=Z(qe);c(function(t){return t.name==e.name},n.labels)&&a("Label "+e.name+" defined twice");h(":"),n.labels.push(e);var t=y();n.labels.pop(),t instanceof N||e.references.forEach(function(t){t instanceof te&&(t=t.label.start,a("Continue label `"+e.name+"` refers to non-IterationStatement.",t.line,t.col,t.pos))});return new M({body:t,label:e})}():_();case"punc":switch(n.token.value){case"{":return new O({start:n.token,body:x(),end:s()});case"[":case"(":return _();case";":return o(),new j;default:l()}case"keyword":switch(e=n.token.value,o(),e){case"break":return w(ee);case"continue":return w(te);case"debugger":return m(),new S;case"do":return new P({body:Qe(y),condition:(f("keyword","while"),e=g(),m(),e)});case"while":return new I({condition:g(),body:Qe(y)});case"for":return function(){h("(");var e=null;if(!r("punc",";")&&(e=r("keyword","var")?(o(),C(!0)):Ye(!0,!0),r("operator","in")))return e instanceof fe&&e.definitions.length>1&&a("Only one variable declaration allowed in for..in loop"),o(),function(e){var t=e instanceof fe?e.definitions[0].name:null,n=Ye(!0);return h(")"),new q({init:e,name:t,object:n,body:Qe(y)})}(e);return function(e){h(";");var t=r("punc",";")?null:Ye(!0);h(";");var n=r("punc",")")?null:Ye(!0);return h(")"),new L({init:e,condition:t,step:n,body:Qe(y)})}(e)}();case"function":return A(V);case"if":return function(){var e=g(),t=y(),n=null;r("keyword","else")&&(o(),n=y());return new ne({condition:e,body:t,alternative:n})}();case"return":return 0==n.in_function&&a("'return' outside of function"),new Q({value:r("punc",";")?(o(),null):d()?null:(e=Ye(!0),m(),e)});case"switch":return new re({expression:g(),body:Qe(k)});case"throw":return n.token.nlb&&a("Illegal newline after 'throw'"),new K({value:(e=Ye(!0),m(),e)});case"try":return function(){var e=x(),t=null,i=null;if(r("keyword","catch")){var u=n.token;o(),h("(");var c=Z(Le);h(")"),t=new ue({start:u,argname:c,body:x(),end:s()})}if(r("keyword","finally")){var u=n.token;o(),i=new ce({start:u,body:x(),end:s()})}t||i||a("Missing catch/finally blocks");return new ae({body:e,bcatch:t,bfinally:i})}();case"var":return e=C(),m(),e;case"const":return e=F(),m(),e;case"with":return new z({expression:g(),body:y()});default:l()}}});function _(e){return new B({body:(e=Ye(!0),m(),e)})}function w(e){var t,r=null;d()||(r=Z(He,!0)),null!=r?((t=c(function(e){return e.name==r.name},n.labels))||a("Undefined label "+r.name),r.thedef=t):0==n.in_loop&&a(e.TYPE+" not inside a loop or switch"),m();var i=new e({label:r});return t&&t.references.push(i),i}var A=function(e){var t=e===V,i=r("name")?Z(t?Pe:Ie):null;return t&&!i&&l(),h("("),new e({name:i,argnames:function(e,t){for(;!r("punc",")");)e?e=!1:h(","),t.push(Z(Re));return o(),t}(!0,[]),body:function(e,t){++n.in_function,n.in_directives=!0,n.in_loop=0,n.labels=[];var r=x();return--n.in_function,n.in_loop=e,n.labels=t,r}(n.in_loop,n.labels)})};function x(){h("{");for(var e=[];!r("punc","}");)r("eof")&&l(),e.push(y());return o(),e}function k(){h("{");for(var e,t=[],i=null,a=null;!r("punc","}");)r("eof")&&l(),r("keyword","case")?(a&&(a.end=s()),i=[],a=new se({start:(e=n.token,o(),e),expression:Ye(!0),body:i}),t.push(a),h(":")):r("keyword","default")?(a&&(a.end=s()),i=[],a=new oe({start:(e=n.token,o(),h(":"),e),body:i}),t.push(a)):(i||l(),i.push(y()));return a&&(a.end=s()),o(),t}function E(e,t){for(var i=[];i.push(new he({start:n.token,name:Z(t?Ne:Me),value:r("operator","=")?(o(),Ye(!1,e)):null,end:s()})),r("punc",",");)o();return i}var C=function(e){return new fe({start:s(),definitions:E(e,!1),end:s()})},F=function(){return new pe({start:s(),definitions:E(!1,!0),end:s()})};function T(){var e,t=n.token;switch(t.type){case"name":case"keyword":e=X(ze);break;case"num":e=new Je({start:t,end:t,value:t.value});break;case"string":e=new Ge({start:t,end:t,value:t.value});break;case"regexp":e=new Ve({start:t,end:t,value:t.value});break;case"atom":switch(t.value){case"false":e=new nt({start:t,end:t});break;case"true":e=new rt({start:t,end:t});break;case"null":e=new Xe({start:t,end:t})}}return o(),e}var $=function(e){if(r("operator","new"))return function(){var e=n.token;f("operator","new");var t,i=$(!1);return r("punc","(")?(o(),t=R(")")):t=[],ie(new me({start:e,expression:i,args:t,end:s()}),!0)}();var t=n.token;if(r("punc")){switch(t.value){case"(":o();var i=Ye(!0);return i.start=t,i.end=n.token,h(")"),ie(i,e);case"[":return ie(H(),e);case"{":return ie(W(),e)}l()}if(r("keyword","function")){o();var a=A(J);return a.start=t,a.end=s(),ie(a,e)}if(It[n.token.type])return ie(T(),e);l()};function R(e,t,i){for(var s=!0,a=[];!r("punc",e)&&(s?s=!1:h(","),!t||!r("punc",e));)r("punc",",")&&i?a.push(new Ze({start:n.token,end:n.token})):a.push(Ye(!1));return o(),a}var H=v(function(){return h("["),new Ce({elements:R("]",!t.strict,!0)})}),W=v(function(){h("{");for(var e=!0,i=[];!r("punc","}")&&(e?e=!1:h(","),t.strict||!r("punc","}"));){var a=n.token,u=a.type,c=Y();if("name"==u&&!r("punc",":")){if("get"==c){i.push(new Te({start:a,key:T(),value:A(G),end:s()}));continue}if("set"==c){i.push(new Fe({start:a,key:T(),value:A(G),end:s()}));continue}}h(":"),i.push(new Be({start:a,key:c,value:Ye(!1),end:s()}))}return o(),new Se({properties:i})});function Y(){var e=n.token;switch(o(),e.type){case"num":case"string":case"name":case"operator":case"keyword":case"atom":return e.value;default:l()}}function X(e){var t=n.token.value;return new("this"==t?Ue:e)({name:String(t),start:n.token,end:n.token})}function Z(e,t){if(!r("name"))return t||a("Name expected"),null;var n=X(e);return o(),n}var ie=function(e,t){var i=e.start;if(r("punc","."))return o(),ie(new be({start:i,expression:e,property:function(){var e=n.token;switch(o(),e.type){case"name":case"operator":case"keyword":case"atom":return e.value;default:l()}}(),end:s()}),t);if(r("punc","[")){o();var a=Ye(!0);return h("]"),ie(new ye({start:i,expression:e,property:a,end:s()}),t)}return t&&r("punc","(")?(o(),ie(new de({start:i,expression:e,args:R(")"),end:s()}),!0)):e},le=function(e){var t=n.token;if(r("operator")&&$t(t.value)){o(),b();var i=_e(we,t.value,le(e));return i.start=t,i.end=s(),i}for(var a=$(e);r("operator")&&Mt(n.token.value)&&!n.token.nlb;)(a=_e(Ae,n.token.value,a)).start=t,a.end=n.token,o();return a};function _e(e,t,n){return"++"!=t&&"--"!=t||$e(n)||a("Invalid use of "+t+" operator"),new e({operator:t,expression:n})}var De=function(e,t,i){var s=r("operator")?n.token.value:null;"in"==s&&i&&(s=null);var a=null!=s?Rt[s]:null;if(null!=a&&a>t){o();var u=De(le(!0),a,i);return De(new xe({start:e.start,left:e,operator:s,right:u,end:u.end}),t,i)}return e};var je=function(e){var t=n.token,i=function(e){return De(le(!0),0,e)}(e);if(r("operator","?")){o();var a=Ye(!1);return h(":"),new ke({start:t,condition:i,consequent:a,alternative:Ye(!1,e),end:s()})}return i};function $e(e){return!t.strict||!(e instanceof Ue)&&(e instanceof ve||e instanceof Oe)}var We=function(e){var t=n.token,i=je(e),u=n.token.value;if(r("operator")&&Nt(u)){if($e(i))return o(),new Ee({start:t,left:i,operator:u,right:We(e),end:s()});a("Invalid assignment")}return i},Ye=function(e,t){var s=n.token,a=We(t);return e&&r("punc",",")?(o(),new ge({start:s,car:a,cdr:Ye(!0,t),end:i()})):a};function Qe(e){++n.in_loop;var t=e();return--n.in_loop,t}return t.expression?Ye(!0):function(){for(var e=n.token,i=[];!r("eof");)i.push(y());var o=s(),a=t.toplevel;return a?(a.body=a.body.concat(i),a.end=o):a=new U({start:e,body:i,end:o}),a}()}function qt(e,t){it.call(this),this.before=e,this.after=t}function zt(e,t,n){this.name=n.name,this.orig=[n],this.scope=e,this.references=[],this.global=!1,this.mangled_name=null,this.undeclared=!1,this.constant=!1,this.index=t}qt.prototype=new it,function(e){function t(t,n){t.DEFMETHOD("transform",function(t,r){var i,o;return t.push(this),t.before&&(i=t.before(this,n,r)),i===e&&(t.after?(t.stack[t.stack.length-1]=i=this.clone(),n(i,t),(o=t.after(i,r))!==e&&(i=o)):n(i=this,t)),t.pop(),i})}function n(e,t){return m(e,function(e){return e.transform(t,!0)})}t(E,d),t(M,function(e,t){e.label=e.label.transform(t),e.body=e.body.transform(t)}),t(B,function(e,t){e.body=e.body.transform(t)}),t(T,function(e,t){e.body=n(e.body,t)}),t(R,function(e,t){e.condition=e.condition.transform(t),e.body=e.body.transform(t)}),t(L,function(e,t){e.init&&(e.init=e.init.transform(t)),e.condition&&(e.condition=e.condition.transform(t)),e.step&&(e.step=e.step.transform(t)),e.body=e.body.transform(t)}),t(q,function(e,t){e.init=e.init.transform(t),e.object=e.object.transform(t),e.body=e.body.transform(t)}),t(z,function(e,t){e.expression=e.expression.transform(t),e.body=e.body.transform(t)}),t(X,function(e,t){e.value&&(e.value=e.value.transform(t))}),t(Z,function(e,t){e.label&&(e.label=e.label.transform(t))}),t(ne,function(e,t){e.condition=e.condition.transform(t),e.body=e.body.transform(t),e.alternative&&(e.alternative=e.alternative.transform(t))}),t(re,function(e,t){e.expression=e.expression.transform(t),e.body=n(e.body,t)}),t(se,function(e,t){e.expression=e.expression.transform(t),e.body=n(e.body,t)}),t(ae,function(e,t){e.body=n(e.body,t),e.bcatch&&(e.bcatch=e.bcatch.transform(t)),e.bfinally&&(e.bfinally=e.bfinally.transform(t))}),t(ue,function(e,t){e.argname=e.argname.transform(t),e.body=n(e.body,t)}),t(le,function(e,t){e.definitions=n(e.definitions,t)}),t(he,function(e,t){e.name=e.name.transform(t),e.value&&(e.value=e.value.transform(t))}),t(W,function(e,t){e.name&&(e.name=e.name.transform(t)),e.argnames=n(e.argnames,t),e.body=n(e.body,t)}),t(de,function(e,t){e.expression=e.expression.transform(t),e.args=n(e.args,t)}),t(ge,function(e,t){e.car=e.car.transform(t),e.cdr=e.cdr.transform(t)}),t(be,function(e,t){e.expression=e.expression.transform(t)}),t(ye,function(e,t){e.expression=e.expression.transform(t),e.property=e.property.transform(t)}),t(_e,function(e,t){e.expression=e.expression.transform(t)}),t(xe,function(e,t){e.left=e.left.transform(t),e.right=e.right.transform(t)}),t(ke,function(e,t){e.condition=e.condition.transform(t),e.consequent=e.consequent.transform(t),e.alternative=e.alternative.transform(t)}),t(Ce,function(e,t){e.elements=n(e.elements,t)}),t(Se,function(e,t){e.properties=n(e.properties,t)}),t(De,function(e,t){e.value=e.value.transform(t)})}(),zt.prototype={unmangleable:function(e){return this.global&&!(e&&e.toplevel)||this.undeclared||!(e&&e.eval)&&(this.scope.uses_eval||this.scope.uses_with)},mangle:function(e){if(!this.mangled_name&&!this.unmangleable(e)){var t=this.scope;!e.screw_ie8&&this.orig[0]instanceof Ie&&(t=t.parent_scope),this.mangled_name=t.next_mangled(e,this)}}},U.DEFMETHOD("figure_out_scope",function(e){e=p(e,{screw_ie8:!1});var t=this,n=t.parent_scope=null,r=null,i=0,o=new it(function(t,s){if(e.screw_ie8&&t instanceof ue){var a=n;return(n=new H(t)).init_scope_vars(i),n.parent_scope=a,s(),n=a,!0}if(t instanceof H){t.init_scope_vars(i);a=t.parent_scope=n;var u=r;return r=n=t,++i,s(),--i,n=a,r=u,!0}if(t instanceof D)return t.scope=n,g(n.directives,t.value),!0;if(t instanceof z)for(var c=n;c;c=c.parent_scope)c.uses_with=!0;else if(t instanceof Oe&&(t.scope=n),t instanceof Ie)r.def_function(t);else if(t instanceof Pe)(t.scope=r.parent_scope).def_function(t);else if(t instanceof Me||t instanceof Ne){var l=r.def_variable(t);l.constant=t instanceof Ne,l.init=o.parent().value}else t instanceof Le&&(e.screw_ie8?n:r).def_variable(t)});t.walk(o);var s=null,a=t.globals=new A;o=new it(function(e,n){if(e instanceof W){var r=s;return s=e,n(),s=r,!0}if(e instanceof ze){var i=e.name,u=e.scope.find_variable(i);if(u)e.thedef=u;else{var c;if(a.has(i)?c=a.get(i):((c=new zt(t,a.size(),e)).undeclared=!0,c.global=!0,a.set(i,c)),e.thedef=c,"eval"==i&&o.parent()instanceof de)for(var l=e.scope;l&&!l.uses_eval;l=l.parent_scope)l.uses_eval=!0;s&&"arguments"==i&&(s.uses_arguments=!0)}return e.reference(),!0}});t.walk(o)}),H.DEFMETHOD("init_scope_vars",function(e){this.directives=[],this.variables=new A,this.functions=new A,this.uses_with=!1,this.uses_eval=!1,this.parent_scope=null,this.enclosed=[],this.cname=-1,this.nesting=e}),H.DEFMETHOD("strict",function(){return this.has_directive("use strict")}),W.DEFMETHOD("init_scope_vars",function(){H.prototype.init_scope_vars.apply(this,arguments),this.uses_arguments=!1}),ze.DEFMETHOD("reference",function(){var e=this.definition();e.references.push(this);for(var t=this.scope;t&&(g(t.enclosed,e),t!==e.scope);)t=t.parent_scope;this.frame=this.scope.nesting-e.scope.nesting}),H.DEFMETHOD("find_variable",function(e){return e instanceof Oe&&(e=e.name),this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),H.DEFMETHOD("has_directive",function(e){return this.parent_scope&&this.parent_scope.has_directive(e)||(this.directives.indexOf(e)>=0?this:null)}),H.DEFMETHOD("def_function",function(e){this.functions.set(e.name,this.def_variable(e))}),H.DEFMETHOD("def_variable",function(e){var t;return this.variables.has(e.name)?(t=this.variables.get(e.name)).orig.push(e):(t=new zt(this,this.variables.size(),e),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t}),H.DEFMETHOD("next_mangled",function(e){var t=this.enclosed;e:for(;;){var n=Ht(++this.cname);if(kt(n)&&!(e.except.indexOf(n)>=0)){for(var r=t.length;--r>=0;){var i=t[r];if(n==(i.mangled_name||i.unmangleable(e)&&i.name))continue e}return n}}}),J.DEFMETHOD("next_mangled",function(e,t){for(var n=t.orig[0]instanceof Re&&this.name&&this.name.definition();;){var r=W.prototype.next_mangled.call(this,e,t);if(!n||n.mangled_name!=r)return r}}),H.DEFMETHOD("references",function(e){return e instanceof Oe&&(e=e.definition()),this.enclosed.indexOf(e)<0?null:e}),Oe.DEFMETHOD("unmangleable",function(e){return this.definition().unmangleable(e)}),je.DEFMETHOD("unmangleable",function(){return!0}),qe.DEFMETHOD("unmangleable",function(){return!1}),Oe.DEFMETHOD("unreferenced",function(){return 0==this.definition().references.length&&!(this.scope.uses_eval||this.scope.uses_with)}),Oe.DEFMETHOD("undeclared",function(){return this.definition().undeclared}),He.DEFMETHOD("undeclared",function(){return!1}),qe.DEFMETHOD("undeclared",function(){return!1}),Oe.DEFMETHOD("definition",function(){return this.thedef}),Oe.DEFMETHOD("global",function(){return this.definition().global}),U.DEFMETHOD("_default_mangler_options",function(e){return p(e,{except:[],eval:!1,sort:!1,toplevel:!1,screw_ie8:!1})}),U.DEFMETHOD("mangle_names",function(e){e=this._default_mangler_options(e);var t=-1,n=[],r=new it(function(i,o){if(i instanceof M){var s=t;return o(),t=s,!0}if(i instanceof H){r.parent();var a=[];return i.variables.each(function(t){e.except.indexOf(t.name)<0&&a.push(t)}),e.sort&&a.sort(function(e,t){return t.references.length-e.references.length}),void n.push.apply(n,a)}if(i instanceof qe){var u;do{u=Ht(++t)}while(!kt(u));return i.mangled_name=u,!0}e.screw_ie8&&i instanceof Le&&n.push(i.definition())});this.walk(r),n.forEach(function(t){t.mangle(e)})}),U.DEFMETHOD("compute_char_frequency",function(e){e=this._default_mangler_options(e);var t=new it(function(t){t instanceof We?Ht.consider(t.print_to_string()):t instanceof Q?Ht.consider("return"):t instanceof K?Ht.consider("throw"):t instanceof te?Ht.consider("continue"):t instanceof ee?Ht.consider("break"):t instanceof S?Ht.consider("debugger"):t instanceof D?Ht.consider(t.value):t instanceof I?Ht.consider("while"):t instanceof P?Ht.consider("do while"):t instanceof ne?(Ht.consider("if"),t.alternative&&Ht.consider("else")):t instanceof fe?Ht.consider("var"):t instanceof pe?Ht.consider("const"):t instanceof W?Ht.consider("function"):t instanceof L?Ht.consider("for"):t instanceof q?Ht.consider("for in"):t instanceof re?Ht.consider("switch"):t instanceof se?Ht.consider("case"):t instanceof oe?Ht.consider("default"):t instanceof z?Ht.consider("with"):t instanceof Fe?Ht.consider("set"+t.key):t instanceof Te?Ht.consider("get"+t.key):t instanceof Be?Ht.consider(t.key):t instanceof me?Ht.consider("new"):t instanceof Ue?Ht.consider("this"):t instanceof ae?Ht.consider("try"):t instanceof ue?Ht.consider("catch"):t instanceof ce?Ht.consider("finally"):t instanceof Oe&&t.unmangleable(e)?Ht.consider(t.name):t instanceof _e||t instanceof xe?Ht.consider(t.operator):t instanceof be&&Ht.consider(t.property)});this.walk(t),Ht.sort()});var Ht=function(){var e,t,n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_0123456789";function r(){t=Object.create(null),(e=n.split("").map(function(e){return e.charCodeAt(0)})).forEach(function(e){t[e]=0})}function i(t){var n="",r=54;do{n+=String.fromCharCode(e[t%r]),t=Math.floor(t/r),r=64}while(t>0);return n}return i.consider=function(e){for(var n=e.length;--n>=0;){var r=e.charCodeAt(n);r in t&&++t[r]}},i.sort=function(){e=y(e,function(e,n){return _t(e)&&!_t(n)?1:_t(n)&&!_t(e)?-1:t[n]-t[e]})},i.reset=r,r(),i.get=function(){return e},i.freq=function(){return t},i}();function Ut(e){e=p(e,{indent_start:0,indent_level:4,quote_keys:!1,space_colon:!0,ascii_only:!1,unescape_regexps:!1,inline_script:!1,width:80,max_line_len:32e3,beautify:!1,source_map:null,bracketize:!1,semicolons:!0,comments:!1,preserve_line:!1,screw_ie8:!1,preamble:null},!0);var t=0,n=0,r=1,i=0,o="";function s(e,t){return e.replace(/[\u0080-\uffff]/g,function(e){var n=e.charCodeAt(0).toString(16);if(n.length<=2&&!t){for(;n.length<2;)n="0"+n;return"\\x"+n}for(;n.length<4;)n="0"+n;return"\\u"+n})}function a(t){var n=function(t){var n=0,r=0;return t=t.replace(/[\\\b\f\n\r\t\x22\x27\u2028\u2029\0]/g,function(e){switch(e){case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case'"':return++n,'"';case"'":return++r,"'";case"\0":return"\\x00"}return e}),e.ascii_only&&(t=s(t)),n>r?"'"+t.replace(/\x27/g,"\\'")+"'":'"'+t.replace(/\x22/g,'\\"')+'"'}(t);return e.inline_script&&(n=n.replace(/<\x2fscript([>\/\t\n\f\r ])/gi,"<\\/script$1")),n}var u=!1,c=!1,f=null;var h=_("( [ + * / - , .");function m(t){var s=(t=String(t)).charAt(0);if(c&&(s&&!(";}".indexOf(s)<0)||/[;]$/.test(f)||(e.semicolons||h(s)?(o+=";",n++,i++):(o+="\n",i++,r++,n=0),e.beautify||(u=!1)),c=!1,e.max_line_len&&n>e.max_line_len&&m("\n")),!e.beautify&&e.preserve_line&&C[C.length-1])for(var a=C[C.length-1].start.line;r<a;)o+="\n",i++,r++,n=0,u=!1;if(u){var l=f.charAt(f.length-1);(Ct(l)&&(Ct(s)||"\\"==s)||/^[\+\-\/]$/.test(s)&&s==l)&&(o+=" ",n++,i++),u=!1}var p=t.split(/\r?\n/),d=p.length-1;r+=d,0==d?n+=p[d].length:n=p[d].length,i+=t.length,f=t,o+=t}var g=e.beautify?function(){m(" ")}:function(){u=!0},v=e.beautify?function(n){var r;e.beautify&&m((r=n?.5:0,l(" ",e.indent_start+t-r*e.indent_level)))}:d,b=e.beautify?function(e,n){!0===e&&(e=A());var r=t;t=e;var i=n();return t=r,i}:function(e,t){return t()},y=e.beautify?function(){m("\n")}:d,w=e.beautify?function(){m(";")}:function(){c=!0};function A(){return t+e.indent_level}var x=e.source_map?function(t,i){try{t&&e.source_map.add(t.file||"?",r,n,t.line,t.col,i||"name"!=t.type?i:t.value)}catch(e){E.warn("Couldn't figure out mapping for {file}:{line},{col} → {cline},{ccol} [{name}]",{file:t.file,line:t.line,col:t.col,cline:r,ccol:n,name:i||""})}}:d;function k(){return o}e.preamble&&m(e.preamble.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"));var C=[];return{get:k,toString:k,indent:v,indentation:function(){return t},current_width:function(){return n-t},should_break:function(){return e.width&&this.current_width()>=e.width},newline:y,print:m,space:g,comma:function(){m(","),g()},colon:function(){m(":"),e.space_colon&&g()},last:function(){return f},semicolon:w,force_semicolon:function(){c=!1,m(";")},to_ascii:s,print_name:function(t){m(function(t){return t=t.toString(),e.ascii_only&&(t=s(t,!0)),t}(t))},print_string:function(e){m(a(e))},next_indent:A,with_indent:b,with_block:function(e){var t;return m("{"),y(),b(A(),function(){t=e()}),v(),m("}"),t},with_parens:function(e){m("(");var t=e();return m(")"),t},with_square:function(e){m("[");var t=e();return m("]"),t},add_mapping:x,option:function(t){return e[t]},line:function(){return r},col:function(){return n},pos:function(){return i},push_node:function(e){C.push(e)},pop_node:function(){return C.pop()},stack:function(){return C},parent:function(e){return C[C.length-2-(e||0)]}}}function Wt(e,t){if(!(this instanceof Wt))return new Wt(e,t);qt.call(this,this.before,this.after),this.options=p(e,{sequences:!t,properties:!t,dead_code:!t,drop_debugger:!t,unsafe:!1,unsafe_comps:!1,conditionals:!t,comparisons:!t,evaluate:!t,booleans:!t,loops:!t,unused:!t,hoist_funs:!t,keep_fargs:!1,hoist_vars:!1,if_return:!t,join_vars:!t,cascade:!t,side_effects:!t,pure_getters:!1,pure_funcs:null,negate_iife:!t,screw_ie8:!1,drop_console:!1,angular:!1,warnings:!0,global_defs:{}},!0)}U.DEFMETHOD("scope_warnings",function(e){e=p(e,{undeclared:!1,unreferenced:!0,assign_to_global:!0,func_arguments:!0,nested_defuns:!0,eval:!0});var t=new it(function(n){if(e.undeclared&&n instanceof ze&&n.undeclared()&&E.warn("Undeclared symbol: {name} [{file}:{line},{col}]",{name:n.name,file:n.start.file,line:n.start.line,col:n.start.col}),e.assign_to_global){var r=null;n instanceof Ee&&n.left instanceof ze?r=n.left:n instanceof q&&n.init instanceof ze&&(r=n.init),r&&(r.undeclared()||r.global()&&r.scope!==r.definition().scope)&&E.warn("{msg}: {name} [{file}:{line},{col}]",{msg:r.undeclared()?"Accidental global?":"Assignment to global",name:r.name,file:r.start.file,line:r.start.line,col:r.start.col})}e.eval&&n instanceof ze&&n.undeclared()&&"eval"==n.name&&E.warn("Eval is used [{file}:{line},{col}]",n.start),e.unreferenced&&(n instanceof $e||n instanceof qe)&&n.unreferenced()&&E.warn("{type} {name} is declared but not referenced [{file}:{line},{col}]",{type:n instanceof qe?"Label":"Symbol",name:n.name,file:n.start.file,line:n.start.line,col:n.start.col}),e.func_arguments&&n instanceof W&&n.uses_arguments&&E.warn("arguments used in function {name} [{file}:{line},{col}]",{name:n.name?n.name.name:"anonymous",file:n.start.file,line:n.start.line,col:n.start.col}),e.nested_defuns&&n instanceof V&&!(t.parent()instanceof H)&&E.warn('Function {name} declared in nested statement "{type}" [{file}:{line},{col}]',{name:n.name.name,type:t.parent().TYPE,file:n.start.file,line:n.start.line,col:n.start.col})});this.walk(t)}),function(){function e(e,t){e.DEFMETHOD("_codegen",t)}function t(e,t){e.DEFMETHOD("needs_parens",t)}function n(e){var t=e.parent();return t instanceof _e||(t instanceof xe&&!(t instanceof Ee)||(t instanceof de&&t.expression===this||(t instanceof ke&&t.condition===this||(t instanceof ve&&t.expression===this||void 0))))}function r(e,t,n){var r=e.length-1;e.forEach(function(e,i){e instanceof j||(n.indent(),e.print(n),i==r&&t||(n.newline(),t&&n.newline()))})}function i(e,t){e.length>0?t.with_block(function(){r(e,!1,t)}):t.print("{}")}function o(e,t,n){if(n)try{e.walk(new it(function(e){if(e instanceof xe&&"in"==e.operator)throw t})),e.print(t)}catch(n){if(n!==t)throw n;e.print(t,!0)}else e.print(t)}function s(e,t){t.option("bracketize")?!e||e instanceof j?t.print("{}"):e instanceof O?e.print(t):t.with_block(function(){t.indent(),e.print(t),t.newline()}):!e||e instanceof j?t.force_semicolon():e.print(t)}function a(e){for(var t=e.stack(),n=t.length,r=t[--n],i=t[--n];n>0;){if(i instanceof C&&i.body===r)return!0;if(!(i instanceof ge&&i.car===r||i instanceof de&&i.expression===r&&!(i instanceof me)||i instanceof be&&i.expression===r||i instanceof ye&&i.expression===r||i instanceof ke&&i.condition===r||i instanceof xe&&i.left===r||i instanceof Ae&&i.expression===r))return!1;r=i,i=t[--n]}}function u(e,t){return 0==e.args.length&&!t.option("beautify")}function c(e){var t,n=e.toString(10),r=[n.replace(/^0\./,".").replace("e+","e")];return Math.floor(e)===e?(e>=0?r.push("0x"+e.toString(16).toLowerCase(),"0"+e.toString(8)):r.push("-0x"+(-e).toString(16).toLowerCase(),"-0"+(-e).toString(8)),(t=/^(.*?)(0+)$/.exec(e))&&r.push(t[1]+"e"+t[2].length)):(t=/^0?\.(0+)(.*)$/.exec(e))&&r.push(t[2]+"e-"+(t[1].length+t[2].length),n.substr(n.indexOf("."))),function(e){for(var t=e[0],n=t.length,r=1;r<e.length;++r)e[r].length<n&&(n=(t=e[r]).length);return t}(r)}function l(e,t){e instanceof O?e.print(t):t.with_block(function(){t.indent(),e.print(t),t.newline()})}function f(e,t){e.DEFMETHOD("add_source_map",function(e){t(this,e)})}function p(e,t){t.add_mapping(e.start)}E.DEFMETHOD("print",function(e,t){var n=this,r=n._codegen;function i(){n.add_comments(e),n.add_source_map(e),r(n,e)}e.push_node(n),t||n.needs_parens(e)?e.with_parens(i):i(),e.pop_node()}),E.DEFMETHOD("print_to_string",function(e){var t=Ut(e);return this.print(t),t.get()}),E.DEFMETHOD("add_comments",function(e){var t=e.option("comments"),n=this;if(t){var r=n.start;if(r&&!r._comments_dumped){r._comments_dumped=!0;var i=r.comments_before||[];n instanceof X&&n.value&&n.value.walk(new it(function(e){if(e.start&&e.start.comments_before&&(i=i.concat(e.start.comments_before),e.start.comments_before=[]),e instanceof J||e instanceof Ce||e instanceof Se)return!0})),t.test?i=i.filter(function(e){return t.test(e.value)}):"function"==typeof t&&(i=i.filter(function(e){return t(n,e)})),i.forEach(function(t){/comment[134]/.test(t.type)?(e.print("//"+t.value+"\n"),e.indent()):"comment2"==t.type&&(e.print("/*"+t.value+"*/"),r.nlb?(e.print("\n"),e.indent()):e.space())})}}}),t(E,function(){return!1}),t(J,function(e){return a(e)}),t(Se,function(e){return a(e)}),t(_e,function(e){var t=e.parent();return t instanceof ve&&t.expression===this}),t(ge,function(e){var t=e.parent();return t instanceof de||t instanceof _e||t instanceof xe||t instanceof he||t instanceof ve||t instanceof Ce||t instanceof De||t instanceof ke}),t(xe,function(e){var t=e.parent();if(t instanceof de&&t.expression===this)return!0;if(t instanceof _e)return!0;if(t instanceof ve&&t.expression===this)return!0;if(t instanceof xe){var n=t.operator,r=Rt[n],i=this.operator,o=Rt[i];if(r>o||r==o&&this===t.right)return!0}}),t(ve,function(e){var t=e.parent();if(t instanceof me&&t.expression===this)try{this.walk(new it(function(e){if(e instanceof de)throw t}))}catch(e){if(e!==t)throw e;return!0}}),t(de,function(e){var t,n=e.parent();return n instanceof me&&n.expression===this||this.expression instanceof J&&n instanceof ve&&n.expression===this&&(t=e.parent(1))instanceof Ee&&t.left===n}),t(me,function(e){var t=e.parent();if(u(this,e)&&(t instanceof ve||t instanceof de&&t.expression===this))return!0}),t(Je,function(e){var t=e.parent();if(this.getValue()<0&&t instanceof ve&&t.expression===this)return!0}),t(Qe,function(e){var t=e.parent();if(t instanceof ve&&t.expression===this)return!0}),t(Ee,n),t(ke,n),e(D,function(e,t){t.print_string(e.value),t.semicolon()}),e(S,function(e,t){t.print("debugger"),t.semicolon()}),$.DEFMETHOD("_do_print_body",function(e){s(this.body,e)}),e(C,function(e,t){e.body.print(t),t.semicolon()}),e(U,function(e,t){r(e.body,!0,t),t.print("")}),e(M,function(e,t){e.label.print(t),t.colon(),e.body.print(t)}),e(B,function(e,t){e.body.print(t),t.semicolon()}),e(O,function(e,t){i(e.body,t)}),e(j,function(e,t){t.semicolon()}),e(P,function(e,t){t.print("do"),t.space(),e._do_print_body(t),t.space(),t.print("while"),t.space(),t.with_parens(function(){e.condition.print(t)}),t.semicolon()}),e(I,function(e,t){t.print("while"),t.space(),t.with_parens(function(){e.condition.print(t)}),t.space(),e._do_print_body(t)}),e(L,function(e,t){t.print("for"),t.space(),t.with_parens(function(){e.init?(e.init instanceof le?e.init.print(t):o(e.init,t,!0),t.print(";"),t.space()):t.print(";"),e.condition?(e.condition.print(t),t.print(";"),t.space()):t.print(";"),e.step&&e.step.print(t)}),t.space(),e._do_print_body(t)}),e(q,function(e,t){t.print("for"),t.space(),t.with_parens(function(){e.init.print(t),t.space(),t.print("in"),t.space(),e.object.print(t)}),t.space(),e._do_print_body(t)}),e(z,function(e,t){t.print("with"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space(),e._do_print_body(t)}),W.DEFMETHOD("_do_print",function(e,t){var n=this;t||e.print("function"),n.name&&(e.space(),n.name.print(e)),e.with_parens(function(){n.argnames.forEach(function(t,n){n&&e.comma(),t.print(e)})}),e.space(),i(n.body,e)}),e(W,function(e,t){e._do_print(t)}),X.DEFMETHOD("_do_print",function(e,t){e.print(t),this.value&&(e.space(),this.value.print(e)),e.semicolon()}),e(Q,function(e,t){e._do_print(t,"return")}),e(K,function(e,t){e._do_print(t,"throw")}),Z.DEFMETHOD("_do_print",function(e,t){e.print(t),this.label&&(e.space(),this.label.print(e)),e.semicolon()}),e(ee,function(e,t){e._do_print(t,"break")}),e(te,function(e,t){e._do_print(t,"continue")}),e(ne,function(e,t){t.print("if"),t.space(),t.with_parens(function(){e.condition.print(t)}),t.space(),e.alternative?(!function(e,t){if(t.option("bracketize"))l(e.body,t);else{if(!e.body)return t.force_semicolon();if(e.body instanceof P&&!t.option("screw_ie8"))l(e.body,t);else{for(var n=e.body;;)if(n instanceof ne){if(!n.alternative)return void l(e.body,t);n=n.alternative}else{if(!(n instanceof $))break;n=n.body}s(e.body,t)}}}(e,t),t.space(),t.print("else"),t.space(),s(e.alternative,t)):e._do_print_body(t)}),e(re,function(e,t){t.print("switch"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space(),e.body.length>0?t.with_block(function(){e.body.forEach(function(e,n){n&&t.newline(),t.indent(!0),e.print(t)})}):t.print("{}")}),ie.DEFMETHOD("_do_print_body",function(e){this.body.length>0&&(e.newline(),this.body.forEach(function(t){e.indent(),t.print(e),e.newline()}))}),e(oe,function(e,t){t.print("default:"),e._do_print_body(t)}),e(se,function(e,t){t.print("case"),t.space(),e.expression.print(t),t.print(":"),e._do_print_body(t)}),e(ae,function(e,t){t.print("try"),t.space(),i(e.body,t),e.bcatch&&(t.space(),e.bcatch.print(t)),e.bfinally&&(t.space(),e.bfinally.print(t))}),e(ue,function(e,t){t.print("catch"),t.space(),t.with_parens(function(){e.argname.print(t)}),t.space(),i(e.body,t)}),e(ce,function(e,t){t.print("finally"),t.space(),i(e.body,t)}),le.DEFMETHOD("_do_print",function(e,t){e.print(t),e.space(),this.definitions.forEach(function(t,n){n&&e.comma(),t.print(e)});var n=e.parent();(n instanceof L||n instanceof q)&&n.init===this||e.semicolon()}),e(fe,function(e,t){e._do_print(t,"var")}),e(pe,function(e,t){e._do_print(t,"const")}),e(he,function(e,t){if(e.name.print(t),e.value){t.space(),t.print("="),t.space();var n=t.parent(1),r=n instanceof L||n instanceof q;o(e.value,t,r)}}),e(de,function(e,t){e.expression.print(t),e instanceof me&&u(e,t)||t.with_parens(function(){e.args.forEach(function(e,n){n&&t.comma(),e.print(t)})})}),e(me,function(e,t){t.print("new"),t.space(),de.prototype._codegen(e,t)}),ge.DEFMETHOD("_do_print",function(e){this.car.print(e),this.cdr&&(e.comma(),e.should_break()&&(e.newline(),e.indent()),this.cdr.print(e))}),e(ge,function(e,t){e._do_print(t)}),e(be,function(e,t){var n=e.expression;n.print(t),n instanceof Je&&n.getValue()>=0&&(/[xa-f.]/i.test(t.last())||t.print(".")),t.print("."),t.add_mapping(e.end),t.print_name(e.property)}),e(ye,function(e,t){e.expression.print(t),t.print("["),e.property.print(t),t.print("]")}),e(we,function(e,t){var n=e.operator;t.print(n),/^[a-z]/i.test(n)&&t.space(),e.expression.print(t)}),e(Ae,function(e,t){e.expression.print(t),t.print(e.operator)}),e(xe,function(e,t){e.left.print(t),t.space(),t.print(e.operator),"<"==e.operator&&e.right instanceof we&&"!"==e.right.operator&&e.right.expression instanceof we&&"--"==e.right.expression.operator?t.print(" "):t.space(),e.right.print(t)}),e(ke,function(e,t){e.condition.print(t),t.space(),t.print("?"),t.space(),e.consequent.print(t),t.space(),t.colon(),e.alternative.print(t)}),e(Ce,function(e,t){t.with_square(function(){var n=e.elements,r=n.length;r>0&&t.space(),n.forEach(function(e,n){n&&t.comma(),e.print(t),n===r-1&&e instanceof Ze&&t.comma()}),r>0&&t.space()})}),e(Se,function(e,t){e.properties.length>0?t.with_block(function(){e.properties.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),t.newline()}):t.print("{}")}),e(Be,function(e,t){var n=e.key;t.option("quote_keys")?t.print_string(n+""):("number"==typeof n||!t.option("beautify")&&+n+""==n)&&parseFloat(n)>=0?t.print(c(n)):(at(n)?t.option("screw_ie8"):St(n))?t.print_name(n):t.print_string(n),t.colon(),e.value.print(t)}),e(Fe,function(e,t){t.print("set"),t.space(),e.key.print(t),e.value._do_print(t,!0)}),e(Te,function(e,t){t.print("get"),t.space(),e.key.print(t),e.value._do_print(t,!0)}),e(Oe,function(e,t){var n=e.definition();t.print_name(n?n.mangled_name||n.name:e.name)}),e(Ke,function(e,t){t.print("void 0")}),e(Ze,d),e(et,function(e,t){t.print("1/0")}),e(Qe,function(e,t){t.print("0/0")}),e(Ue,function(e,t){t.print("this")}),e(We,function(e,t){t.print(e.getValue())}),e(Ge,function(e,t){t.print_string(e.getValue())}),e(Je,function(e,t){t.print(c(e.getValue()))}),e(Ve,function(e,t){var n=e.getValue().toString();t.option("ascii_only")?n=t.to_ascii(n):t.option("unescape_regexps")&&(n=n.split("\\\\").map(function(e){return e.replace(/\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}/g,function(e){var t=parseInt(e.substr(2),16);return function(e){return[92,47,46,43,42,63,40,41,91,93,123,125,36,94,58,124,33,10,13,0,65279,8232,8233].indexOf(e)<0}(t)?String.fromCharCode(t):e})}).join("\\\\")),t.print(n);var r=t.parent();r instanceof xe&&/^in/.test(r.operator)&&r.left===e&&t.print(" ")}),f(E,d),f(D,p),f(S,p),f(Oe,p),f(Y,p),f($,p),f(M,d),f(W,p),f(re,p),f(ie,p),f(O,p),f(U,d),f(me,p),f(ae,p),f(ue,p),f(ce,p),f(le,p),f(We,p),f(De,function(e,t){t.add_mapping(e.start,e.key)})}(),Wt.prototype=new qt,h(Wt.prototype,{option:function(e){return this.options[e]},warn:function(){this.options.warnings&&E.warn.apply(E,arguments)},before:function(e,t,n){if(e._squeezed)return e;var r=!1;return e instanceof H&&(e=e.hoist_declarations(this),r=!0),t(e,this),e=e.optimize(this),r&&e instanceof H&&(e.drop_unused(this),t(e,this)),e._squeezed=!0,e}}),function(){function e(e,t){e.DEFMETHOD("optimize",function(e){if(this._optimized)return this;var n=t(this,e);return n._optimized=!0,n===this?n:n.transform(e)})}function t(e,t,n){return n||(n={}),t&&(n.start||(n.start=t.start),n.end||(n.end=t.end)),new e(n)}function n(e,n,r){if(n instanceof E)return n.transform(e);switch(typeof n){case"string":return t(Ge,r,{value:n}).optimize(e);case"number":return t(isNaN(n)?Qe:Je,r,{value:n}).optimize(e);case"boolean":return t(n?rt:nt,r).optimize(e);case"undefined":return t(Ke,r).optimize(e);default:if(null===n)return t(Xe,r).optimize(e);if(n instanceof RegExp)return t(Ve,r).optimize(e);throw new Error(v("Can't handle constant of type: {type}",{type:typeof n}))}}function r(e){if(null===e)return[];if(e instanceof O)return e.body;if(e instanceof j)return[];if(e instanceof C)return[e];throw new Error("Can't convert thing to statement array")}function i(e){return null===e||(e instanceof j||e instanceof O&&0==e.body.length)}function o(e){return e instanceof re?e:(e instanceof L||e instanceof q||e instanceof R)&&e.body instanceof O?e.body:e}function s(e,n){var i;do{i=!1,n.option("angular")&&(e=s(e)),e=u(e),n.option("dead_code")&&(e=l(e,n)),n.option("if_return")&&(e=c(e,n)),n.option("sequences")&&(e=f(e,n)),n.option("join_vars")&&(e=p(e,n))}while(i);return n.option("negate_iife")&&function(e,n){e.forEach(function(e){e instanceof B&&(e.body=function e(n){return n.transform(new qt(function(n){if(n instanceof de&&n.expression instanceof J)return t(we,n,{operator:"!",expression:n});if(n instanceof de)n.expression=e(n.expression);else if(n instanceof ge)n.car=e(n.car);else if(n instanceof ke){var r=e(n.condition);if(r!==n.condition){n.condition=r;var i=n.consequent;n.consequent=n.alternative,n.alternative=i}}return n}))}(e.body))})}(e),e;function s(e){function r(e,n){return t(B,e,{body:t(Ee,e,{operator:"=",left:t(be,n,{expression:t(ze,n,n),property:"$inject"}),right:t(Ce,e,{elements:e.argnames.map(function(e){return t(Ge,e,{value:e.name})})})})})}return e.reduce(function(e,t){e.push(t);var i=t.start,o=i.comments_before;if(o&&o.length>0){var s=o.pop();/@ngInject/.test(s.value)&&(t instanceof V?e.push(r(t,t.name)):t instanceof le?t.definitions.forEach(function(t){t.value&&t.value instanceof W&&e.push(r(t.value,t.name))}):n.warn("Unknown statement marked with @ngInject [{file}:{line},{col}]",i))}return e},[])}function u(e){var t=[];return e.reduce(function(e,n){return n instanceof O?(i=!0,e.push.apply(e,u(n.body))):n instanceof j?i=!0:n instanceof D?t.indexOf(n.value)<0?(e.push(n),t.push(n.value)):i=!0:e.push(n),e},[])}function c(e,n){var s=n.self(),a=s instanceof W,u=[];e:for(var c=e.length;--c>=0;){var l=e[c];switch(!0){case a&&l instanceof Q&&!l.value&&0==u.length:i=!0;continue e;case l instanceof ne:if(l.body instanceof Q){if((a&&0==u.length||u[0]instanceof Q&&!u[0].value)&&!l.body.value&&!l.alternative){i=!0;var f=t(B,l.condition,{body:l.condition});u.unshift(f);continue e}if(u[0]instanceof Q&&l.body.value&&u[0].value&&!l.alternative){i=!0,(l=l.clone()).alternative=u[0],u[0]=l.transform(n);continue e}if((0==u.length||u[0]instanceof Q)&&l.body.value&&!l.alternative&&a){i=!0,(l=l.clone()).alternative=u[0]||t(Q,l,{value:t(Ke,l)}),u[0]=l.transform(n);continue e}if(!l.body.value&&a){i=!0,(l=l.clone()).condition=l.condition.negate(n),l.body=t(O,l,{body:r(l.alternative).concat(u)}),l.alternative=null,u=[l.transform(n)];continue e}if(1==u.length&&a&&u[0]instanceof B&&(!l.alternative||l.alternative instanceof B)){i=!0,u.push(t(Q,u[0],{value:t(Ke,u[0])}).transform(n)),(u=r(l.alternative).concat(u)).unshift(l);continue e}}var p=(d=x(l.body))instanceof Z?n.loopcontrol_target(d.label):null;if(d&&(d instanceof Q&&!d.value&&a||d instanceof te&&s===o(p)||d instanceof ee&&p instanceof O&&s===p)){d.label&&b(d.label.thedef.references,d),i=!0;var h=r(l.body).slice(0,-1);(l=l.clone()).condition=l.condition.negate(n),l.body=t(O,l,{body:r(l.alternative).concat(u)}),l.alternative=t(O,l,{body:h}),u=[l.transform(n)];continue e}var d;p=(d=x(l.alternative))instanceof Z?n.loopcontrol_target(d.label):null;if(d&&(d instanceof Q&&!d.value&&a||d instanceof te&&s===o(p)||d instanceof ee&&p instanceof O&&s===p)){d.label&&b(d.label.thedef.references,d),i=!0,(l=l.clone()).body=t(O,l.body,{body:r(l.body).concat(u)}),l.alternative=t(O,l.alternative,{body:r(l.alternative).slice(0,-1)}),u=[l.transform(n)];continue e}u.unshift(l);break;default:u.unshift(l)}}return u}function l(e,t){var n=!1,r=e.length,s=t.self();return e=e.reduce(function(e,r){if(n)a(t,r,e);else{if(r instanceof Z){var i=t.loopcontrol_target(r.label);r instanceof ee&&i instanceof O&&o(i)===s||r instanceof te&&o(i)===s?r.label&&b(r.label.thedef.references,r):e.push(r)}else e.push(r);x(r)&&(n=!0)}return e},[]),i=e.length!=r,e}function f(e,n){if(e.length<2)return e;var r=[],o=[];function s(){(r=ge.from_array(r))&&o.push(t(B,r,{body:r})),r=[]}return e.forEach(function(e){e instanceof B?r.push(e.body):(s(),o.push(e))}),s(),o=function(e,n){function r(e){i.pop();var t=o.body;return t instanceof ge?t.add(e):t=ge.cons(t,e),t.transform(n)}var i=[],o=null;return e.forEach(function(e){if(o)if(e instanceof L){var n={};try{o.body.walk(new it(function(e){if(e instanceof xe&&"in"==e.operator)throw n})),!e.init||e.init instanceof le?e.init||(e.init=o.body,i.pop()):e.init=r(e.init)}catch(e){if(e!==n)throw e}}else e instanceof ne?e.condition=r(e.condition):e instanceof z?e.expression=r(e.expression):e instanceof X&&e.value?e.value=r(e.value):e instanceof X?e.value=r(t(Ke,e)):e instanceof re&&(e.expression=r(e.expression));i.push(e),o=e instanceof B?e:null}),i}(o,n),i=o.length!=e.length,o}function p(e,t){var n=null;return e.reduce(function(e,t){return t instanceof le&&n&&n.TYPE==t.TYPE?(n.definitions=n.definitions.concat(t.definitions),i=!0):t instanceof L&&n instanceof le&&(!t.init||t.init.TYPE==n.TYPE)?(i=!0,e.pop(),t.init?t.init.definitions=n.definitions.concat(t.init.definitions):t.init=n,e.push(t),n=t):(n=t,e.push(t)),e},[])}}function a(e,t,n){e.warn("Dropping unreachable code [{file}:{line},{col}]",t.start),t.walk(new it(function(t){return t instanceof le?(e.warn("Declarations in unreachable code! [{file}:{line},{col}]",t.start),t.remove_initializers(),n.push(t),!0):t instanceof V?(n.push(t),!0):t instanceof H||void 0}))}var l,f,p;function h(e,t){return e.print_to_string().length>t.print_to_string().length?t:e}function x(e){return e&&e.aborts()}function k(e,n){function i(i){i=r(i),e.body instanceof O?(e.body=e.body.clone(),e.body.body=i.concat(e.body.body.slice(1)),e.body=e.body.transform(n)):e.body=t(O,e.body,{body:i}).transform(n),k(e,n)}var o=e.body instanceof O?e.body.body[0]:e.body;o instanceof ne&&(o.body instanceof ee&&n.loopcontrol_target(o.body.label)===e?(e.condition?e.condition=t(xe,e.condition,{left:e.condition,operator:"&&",right:o.condition.negate(n)}):e.condition=o.condition.negate(n),i(o.alternative)):o.alternative instanceof ee&&n.loopcontrol_target(o.alternative.label)===e&&(e.condition?e.condition=t(xe,e.condition,{left:e.condition,operator:"&&",right:o.condition}):e.condition=o.condition,i(o.body)))}e(E,function(e,t){return e}),E.DEFMETHOD("equivalent_to",function(e){return this.print_to_string()==e.print_to_string()}),f=["!","delete"],p=["in","instanceof","==","!=","===","!==","<","<=",">=",">"],(l=function(e,t){e.DEFMETHOD("is_boolean",t)})(E,function(){return!1}),l(we,function(){return u(this.operator,f)}),l(xe,function(){return u(this.operator,p)||("&&"==this.operator||"||"==this.operator)&&this.left.is_boolean()&&this.right.is_boolean()}),l(ke,function(){return this.consequent.is_boolean()&&this.alternative.is_boolean()}),l(Ee,function(){return"="==this.operator&&this.right.is_boolean()}),l(ge,function(){return this.cdr.is_boolean()}),l(rt,function(){return!0}),l(nt,function(){return!0}),function(e){e(E,function(){return!1}),e(Ge,function(){return!0}),e(we,function(){return"typeof"==this.operator}),e(xe,function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))}),e(Ee,function(e){return("="==this.operator||"+="==this.operator)&&this.right.is_string(e)}),e(ge,function(e){return this.cdr.is_string(e)}),e(ke,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)}),e(de,function(e){return e.option("unsafe")&&this.expression instanceof ze&&"String"==this.expression.name&&this.expression.undeclared()})}(function(e,t){e.DEFMETHOD("is_string",t)}),function(e){function t(e,t){if(!t)throw new Error("Compressor must be passed");return e._eval(t)}E.DEFMETHOD("evaluate",function(t){if(!t.option("evaluate"))return[this];try{var r=this._eval(t);return[h(n(t,r,this),this),r]}catch(t){if(t!==e)throw t;return[this]}}),e(C,function(){throw new Error(v("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),e(J,function(){throw e}),e(E,function(){throw e}),e(We,function(){return this.getValue()}),e(we,function(n){var r=this.expression;switch(this.operator){case"!":return!t(r,n);case"typeof":if(r instanceof J)return"function";if((r=t(r,n))instanceof RegExp)throw e;return typeof r;case"void":return void t(r,n);case"~":return~t(r,n);case"-":if(0===(r=t(r,n)))throw e;return-r;case"+":return+t(r,n)}throw e}),e(xe,function(n){var r=this.left,i=this.right;switch(this.operator){case"&&":return t(r,n)&&t(i,n);case"||":return t(r,n)||t(i,n);case"|":return t(r,n)|t(i,n);case"&":return t(r,n)&t(i,n);case"^":return t(r,n)^t(i,n);case"+":return t(r,n)+t(i,n);case"*":return t(r,n)*t(i,n);case"/":return t(r,n)/t(i,n);case"%":return t(r,n)%t(i,n);case"-":return t(r,n)-t(i,n);case"<<":return t(r,n)<<t(i,n);case">>":return t(r,n)>>t(i,n);case">>>":return t(r,n)>>>t(i,n);case"==":return t(r,n)==t(i,n);case"===":return t(r,n)===t(i,n);case"!=":return t(r,n)!=t(i,n);case"!==":return t(r,n)!==t(i,n);case"<":return t(r,n)<t(i,n);case"<=":return t(r,n)<=t(i,n);case">":return t(r,n)>t(i,n);case">=":return t(r,n)>=t(i,n);case"in":return t(r,n)in t(i,n);case"instanceof":return t(r,n)instanceof t(i,n)}throw e}),e(ke,function(e){return t(this.condition,e)?t(this.consequent,e):t(this.alternative,e)}),e(ze,function(n){var r=this.definition();if(r&&r.constant&&r.init)return t(r.init,n);throw e})}(function(e,t){e.DEFMETHOD("_eval",t)}),function(e){function n(e){return t(we,e,{operator:"!",expression:e})}e(E,function(){return n(this)}),e(C,function(){throw new Error("Cannot negate a statement")}),e(J,function(){return n(this)}),e(we,function(){return"!"==this.operator?this.expression:n(this)}),e(ge,function(e){var t=this.clone();return t.cdr=t.cdr.negate(e),t}),e(ke,function(e){var t=this.clone();return t.consequent=t.consequent.negate(e),t.alternative=t.alternative.negate(e),h(n(this),t)}),e(xe,function(e){var t=this.clone(),r=this.operator;if(e.option("unsafe_comps"))switch(r){case"<=":return t.operator=">",t;case"<":return t.operator=">=",t;case">=":return t.operator="<",t;case">":return t.operator="<=",t}switch(r){case"==":return t.operator="!=",t;case"!=":return t.operator="==",t;case"===":return t.operator="!==",t;case"!==":return t.operator="===",t;case"&&":return t.operator="||",t.left=t.left.negate(e),t.right=t.right.negate(e),h(n(this),t);case"||":return t.operator="&&",t.left=t.left.negate(e),t.right=t.right.negate(e),h(n(this),t)}return n(this)})}(function(e,t){e.DEFMETHOD("negate",function(e){return t.call(this,e)})}),function(e){e(E,function(e){return!0}),e(j,function(e){return!1}),e(We,function(e){return!1}),e(Ue,function(e){return!1}),e(de,function(e){var t=e.option("pure_funcs");return!t||t.indexOf(this.expression.print_to_string())<0}),e(T,function(e){for(var t=this.body.length;--t>=0;)if(this.body[t].has_side_effects(e))return!0;return!1}),e(B,function(e){return this.body.has_side_effects(e)}),e(V,function(e){return!0}),e(J,function(e){return!1}),e(xe,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)}),e(Ee,function(e){return!0}),e(ke,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),e(_e,function(e){return"delete"==this.operator||"++"==this.operator||"--"==this.operator||this.expression.has_side_effects(e)}),e(ze,function(e){return!1}),e(Se,function(e){for(var t=this.properties.length;--t>=0;)if(this.properties[t].has_side_effects(e))return!0;return!1}),e(De,function(e){return this.value.has_side_effects(e)}),e(Ce,function(e){for(var t=this.elements.length;--t>=0;)if(this.elements[t].has_side_effects(e))return!0;return!1}),e(be,function(e){return!e.option("pure_getters")||this.expression.has_side_effects(e)}),e(ye,function(e){return!e.option("pure_getters")||(this.expression.has_side_effects(e)||this.property.has_side_effects(e))}),e(ve,function(e){return!e.option("pure_getters")}),e(ge,function(e){return this.car.has_side_effects(e)||this.cdr.has_side_effects(e)})}(function(e,t){e.DEFMETHOD("has_side_effects",t)}),function(e){function t(){var e=this.body.length;return e>0&&x(this.body[e-1])}e(C,function(){return null}),e(Y,function(){return this}),e(O,t),e(ie,t),e(ne,function(){return this.alternative&&x(this.body)&&x(this.alternative)})}(function(e,t){e.DEFMETHOD("aborts",t)}),e(D,function(e,n){return e.scope.has_directive(e.value)!==e.scope?t(j,e):e}),e(S,function(e,n){return n.option("drop_debugger")?t(j,e):e}),e(M,function(e,n){return e.body instanceof ee&&n.loopcontrol_target(e.body.label)===e.body?t(j,e):0==e.label.references.length?e.body:e}),e(T,function(e,t){return e.body=s(e.body,t),e}),e(O,function(e,n){switch(e.body=s(e.body,n),e.body.length){case 1:return e.body[0];case 0:return t(j,e)}return e}),H.DEFMETHOD("drop_unused",function(e){var n=this;if(e.option("unused")&&!(n instanceof U)&&!n.uses_eval){var r=[],i=new A,o=this,s=new it(function(t,a){if(t!==n){if(t instanceof V)return i.add(t.name.name,t),!0;if(t instanceof le&&o===n)return t.definitions.forEach(function(t){t.value&&(i.add(t.name.name,t.value),t.value.has_side_effects(e)&&t.value.walk(s))}),!0;if(t instanceof ze)return g(r,t.definition()),!0;if(t instanceof H){var u=o;return o=t,a(),o=u,!0}}});n.walk(s);for(var a=0;a<r.length;++a)r[a].orig.forEach(function(e){var t=i.get(e.name);t&&t.forEach(function(e){var t=new it(function(e){e instanceof ze&&g(r,e.definition())});e.walk(t)})});var c=new qt(function(i,o,s){if(i instanceof W&&!(i instanceof G)&&!e.option("keep_fargs"))for(var a=i.argnames,l=a.length;--l>=0;){var f=a[l];if(!f.unreferenced())break;a.pop(),e.warn("Dropping unused function argument {name} [{file}:{line},{col}]",{name:f.name,file:f.start.file,line:f.start.line,col:f.start.col})}if(i instanceof V&&i!==n)return u(i.name.definition(),r)?i:(e.warn("Dropping unused function {name} [{file}:{line},{col}]",{name:i.name.name,file:i.name.start.file,line:i.name.start.line,col:i.name.start.col}),t(j,i));if(i instanceof le&&!(c.parent()instanceof q)){var p=i.definitions.filter(function(t){if(u(t.name.definition(),r))return!0;var n={name:t.name.name,file:t.name.start.file,line:t.name.start.line,col:t.name.start.col};return t.value&&t.value.has_side_effects(e)?(t._unused_side_effects=!0,e.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",n),!0):(e.warn("Dropping unused variable {name} [{file}:{line},{col}]",n),!1)});p=y(p,function(e,t){return!e.value&&t.value?-1:!t.value&&e.value?1:0});var h=[];for(l=0;l<p.length;){var d=p[l];d._unused_side_effects?(h.push(d.value),p.splice(l,1)):(h.length>0&&(h.push(d.value),d.value=ge.from_array(h),h=[]),++l)}return h=h.length>0?t(O,i,{body:[t(B,i,{body:ge.from_array(h)})]}):null,0!=p.length||h?0==p.length?h:(i.definitions=p,h&&(h.body.unshift(i),i=h),i):t(j,i)}if(i instanceof L&&(o(i,this),i.init instanceof O)){var g=i.init.body.slice(0,-1);return i.init=i.init.body.slice(-1)[0].body,g.push(i),s?m.splice(g):t(O,i,{body:g})}return i instanceof H&&i!==n?i:void 0});n.transform(c)}}),H.DEFMETHOD("hoist_declarations",function(e){var n=e.option("hoist_funs"),r=e.option("hoist_vars"),i=this;if(n||r){var o=[],s=[],a=new A,u=0,l=0;i.walk(new it(function(e){return e instanceof H&&e!==i||(e instanceof fe?(++l,!0):void 0)})),r=r&&l>1;var f=new qt(function(e){if(e!==i){if(e instanceof D)return o.push(e),t(j,e);if(e instanceof V&&n)return s.push(e),t(j,e);if(e instanceof fe&&r){e.definitions.forEach(function(e){a.set(e.name.name,e),++u});var c=e.to_assignments(),l=f.parent();return l instanceof q&&l.init===e?null==c?e.definitions[0].name:c:l instanceof L&&l.init===e?c:c?t(B,e,{body:c}):t(j,e)}if(e instanceof H)return e}});if(i=i.transform(f),u>0){var p=[];if(a.each(function(e,t){i instanceof W&&c(function(t){return t.name==e.name.name},i.argnames)?a.del(t):((e=e.clone()).value=null,p.push(e),a.set(t,e))}),p.length>0){for(var h=0;h<i.body.length;){if(i.body[h]instanceof B){var d,m,g=i.body[h].body;if(g instanceof Ee&&"="==g.operator&&(d=g.left)instanceof Oe&&a.has(d.name)){if((v=a.get(d.name)).value)break;v.value=g.right,b(p,v),p.push(v),i.body.splice(h,1);continue}if(g instanceof ge&&(m=g.car)instanceof Ee&&"="==m.operator&&(d=m.left)instanceof Oe&&a.has(d.name)){var v;if((v=a.get(d.name)).value)break;v.value=m.right,b(p,v),p.push(v),i.body[h].body=g.cdr;continue}}if(i.body[h]instanceof j)i.body.splice(h,1);else{if(!(i.body[h]instanceof O))break;var y=[h,1].concat(i.body[h].body);i.body.splice.apply(i.body,y)}}p=t(fe,i,{definitions:p}),s.push(p)}}i.body=o.concat(s,i.body)}return i}),e(B,function(e,n){return n.option("side_effects")&&!e.body.has_side_effects(n)?(n.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),t(j,e)):e}),e(R,function(e,n){var r=e.condition.evaluate(n);if(e.condition=r[0],!n.option("loops"))return e;if(r.length>1){if(r[1])return t(L,e,{body:e.body});if(e instanceof I&&n.option("dead_code")){var i=[];return a(n,e.body,i),t(O,e,{body:i})}}return e}),e(I,function(e,n){return n.option("loops")?((e=R.prototype.optimize.call(e,n))instanceof I&&(k(e,n),e=t(L,e,e).transform(n)),e):e}),e(L,function(e,n){var r=e.condition;if(r&&(r=r.evaluate(n),e.condition=r[0]),!n.option("loops"))return e;if(r&&r.length>1&&!r[1]&&n.option("dead_code")){var i=[];return e.init instanceof C?i.push(e.init):e.init&&i.push(t(B,e.init,{body:e.init})),a(n,e.body,i),t(O,e,{body:i})}return k(e,n),e}),e(ne,function(e,n){if(!n.option("conditionals"))return e;var r=e.condition.evaluate(n);if(e.condition=r[0],r.length>1)if(r[1]){if(n.warn("Condition always true [{file}:{line},{col}]",e.condition.start),n.option("dead_code")){var o=[];return e.alternative&&a(n,e.alternative,o),o.push(e.body),t(O,e,{body:o}).transform(n)}}else if(n.warn("Condition always false [{file}:{line},{col}]",e.condition.start),n.option("dead_code")){o=[];return a(n,e.body,o),e.alternative&&o.push(e.alternative),t(O,e,{body:o}).transform(n)}i(e.alternative)&&(e.alternative=null);var s=e.condition.negate(n),u=h(e.condition,s)===s;if(e.alternative&&u){u=!1,e.condition=s;var c=e.body;e.body=e.alternative||t(j),e.alternative=c}if(i(e.body)&&i(e.alternative))return t(B,e.condition,{body:e.condition}).transform(n);if(e.body instanceof B&&e.alternative instanceof B)return t(B,e,{body:t(ke,e,{condition:e.condition,consequent:e.body.body,alternative:e.alternative.body})}).transform(n);if(i(e.alternative)&&e.body instanceof B)return u?t(B,e,{body:t(xe,e,{operator:"||",left:s,right:e.body.body})}).transform(n):t(B,e,{body:t(xe,e,{operator:"&&",left:e.condition,right:e.body.body})}).transform(n);if(e.body instanceof j&&e.alternative&&e.alternative instanceof B)return t(B,e,{body:t(xe,e,{operator:"||",left:e.condition,right:e.alternative.body})}).transform(n);if(e.body instanceof X&&e.alternative instanceof X&&e.body.TYPE==e.alternative.TYPE)return t(e.body.CTOR,e,{value:t(ke,e,{condition:e.condition,consequent:e.body.value||t(Ke,e.body).optimize(n),alternative:e.alternative.value||t(Ke,e.alternative).optimize(n)})}).transform(n);if(e.body instanceof ne&&!e.body.alternative&&!e.alternative&&(e.condition=t(xe,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}).transform(n),e.body=e.body.body),x(e.body)&&e.alternative){var l=e.alternative;return e.alternative=null,t(O,e,{body:[e,l]}).transform(n)}if(x(e.alternative)){var f=e.body;return e.body=e.alternative,e.condition=u?s:e.condition.negate(n),e.alternative=null,t(O,e,{body:[e,f]}).transform(n)}return e}),e(re,function(e,n){if(0==e.body.length&&n.option("conditionals"))return t(B,e,{body:e.expression}).transform(n);for(;;){var r=e.body[e.body.length-1];if(r){var i=r.body[r.body.length-1];if(i instanceof ee&&o(n.loopcontrol_target(i.label))===e&&r.body.pop(),r instanceof oe&&0==r.body.length){e.body.pop();continue}}break}var s=e.expression.evaluate(n);e:if(2==s.length)try{if(e.expression=s[0],!n.option("dead_code"))break e;var a=s[1],u=!1,c=!1,l=!1,f=!1,p=!1,h=new qt(function(r,i,o){if(r instanceof W||r instanceof B)return r;if(r instanceof re&&r===e)return i(r=r.clone(),this),p?r:t(O,r,{body:r.body.reduce(function(e,t){return e.concat(t.body)},[])}).transform(n);if(r instanceof ne||r instanceof ae){var s=u;return u=!c,i(r,this),u=s,r}if(r instanceof $||r instanceof re){s=c;return c=!0,i(r,this),c=s,r}if(r instanceof ee&&this.loopcontrol_target(r.label)===e)return u?(p=!0,r):c?r:(f=!0,o?m.skip:t(j,r));if(r instanceof ie&&this.parent()===e){if(f)return m.skip;if(r instanceof se){var h=r.expression.evaluate(n);if(h.length<2)throw e;return h[1]===a||l?(l=!0,x(r)&&(f=!0),i(r,this),r):m.skip}return i(r,this),r}});h.stack=n.stack.slice(),e=e.transform(h)}catch(t){if(t!==e)throw t}return e}),e(se,function(e,t){return e.body=s(e.body,t),e}),e(ae,function(e,t){return e.body=s(e.body,t),e}),le.DEFMETHOD("remove_initializers",function(){this.definitions.forEach(function(e){e.value=null})}),le.DEFMETHOD("to_assignments",function(){var e=this.definitions.reduce(function(e,n){if(n.value){var r=t(ze,n.name,n.name);e.push(t(Ee,n,{operator:"=",left:r,right:n.value}))}return e},[]);return 0==e.length?null:ge.from_array(e)}),e(le,function(e,n){return 0==e.definitions.length?t(j,e):e}),e(J,function(e,t){return e=W.prototype.optimize.call(e,t),t.option("unused")&&e.name&&e.name.unreferenced()&&(e.name=null),e}),e(de,function(e,r){if(r.option("unsafe")){var i=e.expression;if(i instanceof ze&&i.undeclared())switch(i.name){case"Array":if(1!=e.args.length)return t(Ce,e,{elements:e.args}).transform(r);break;case"Object":if(0==e.args.length)return t(Se,e,{properties:[]});break;case"String":if(0==e.args.length)return t(Ge,e,{value:""});if(e.args.length<=1)return t(xe,e,{left:e.args[0],operator:"+",right:t(Ge,e,{value:""})}).transform(r);break;case"Number":if(0==e.args.length)return t(Je,e,{value:0});if(1==e.args.length)return t(we,e,{expression:e.args[0],operator:"+"}).transform(r);case"Boolean":if(0==e.args.length)return t(nt,e);if(1==e.args.length)return t(we,e,{expression:t(we,null,{expression:e.args[0],operator:"!"}),operator:"!"}).transform(r);break;case"Function":if(w(e.args,function(e){return e instanceof Ge}))try{var o=Lt(c="(function("+e.args.slice(0,-1).map(function(e){return e.value}).join(",")+"){"+e.args[e.args.length-1].value+"})()");o.figure_out_scope({screw_ie8:r.option("screw_ie8")});var s,a=new Wt(r.options);(o=o.transform(a)).figure_out_scope({screw_ie8:r.option("screw_ie8")}),o.mangle_names();try{o.walk(new it(function(e){if(e instanceof W)throw s=e,o}))}catch(e){if(e!==o)throw e}var u=s.argnames.map(function(n,r){return t(Ge,e.args[r],{value:n.print_to_string()})}),c=Ut();return O.prototype._codegen.call(s,s,c),c=c.toString().replace(/^\{|\}$/g,""),u.push(t(Ge,e.args[e.args.length-1],{value:c})),e.args=u,e}catch(t){if(!(t instanceof Bt))throw console.log(t),t;r.warn("Error parsing code passed to new Function [{file}:{line},{col}]",e.args[e.args.length-1].start),r.warn(t.toString())}}else{if(i instanceof be&&"toString"==i.property&&0==e.args.length)return t(xe,e,{left:t(Ge,e,{value:""}),operator:"+",right:i.expression}).transform(r);if(i instanceof be&&i.expression instanceof Ce&&"join"==i.property){var l=0==e.args.length?",":e.args[0].evaluate(r)[1];if(null!=l){var f,p=i.expression.elements.reduce(function(e,t){if(t=t.evaluate(r),0==e.length||1==t.length)e.push(t);else{var i=e[e.length-1];if(2==i.length){var o=""+i[1]+l+t[1];e[e.length-1]=[n(r,o,i[0]),o]}else e.push(t)}return e},[]);if(0==p.length)return t(Ge,e,{value:""});if(1==p.length)return p[0][0];if(""==l)return f=p[0][0]instanceof Ge||p[1][0]instanceof Ge?p.shift()[0]:t(Ge,e,{value:""}),p.reduce(function(e,n){return t(xe,n[0],{operator:"+",left:e,right:n[0]})},f).transform(r);var d=e.clone();return d.expression=d.expression.clone(),d.expression.expression=d.expression.expression.clone(),d.expression.expression.elements=p.map(function(e){return e[0]}),h(e,d)}}}}return r.option("side_effects")&&e.expression instanceof J&&0==e.args.length&&!T.prototype.has_side_effects.call(e.expression,r)?t(Ke,e).transform(r):r.option("drop_console")&&e.expression instanceof ve&&e.expression.expression instanceof ze&&"console"==e.expression.expression.name&&e.expression.expression.undeclared()?t(Ke,e).transform(r):e.evaluate(r)[0]}),e(me,function(e,n){if(n.option("unsafe")){var r=e.expression;if(r instanceof ze&&r.undeclared())switch(r.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return t(de,e,e).transform(n)}}return e}),e(ge,function(e,n){if(!n.option("side_effects"))return e;var r;if(!e.car.has_side_effects(n)&&!(e.cdr instanceof ze&&"eval"==e.cdr.name&&e.cdr.undeclared()&&(r=n.parent())instanceof de&&r.expression===e))return e.cdr;if(n.option("cascade")){if(e.car instanceof Ee&&!e.car.left.has_side_effects(n)){if(e.car.left.equivalent_to(e.cdr))return e.car;if(e.cdr instanceof de&&e.cdr.expression.equivalent_to(e.car.left))return e.cdr.expression=e.car,e.cdr}if(!e.car.has_side_effects(n)&&!e.cdr.has_side_effects(n)&&e.car.equivalent_to(e.cdr))return e.car}return e.cdr instanceof we&&"void"==e.cdr.operator&&!e.cdr.expression.has_side_effects(n)?(e.cdr.operator=e.car,e.cdr):e.cdr instanceof Ke?t(we,e,{operator:"void",expression:e.car}):e}),_e.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")&&this.expression instanceof ge){var t=this.expression,n=t.to_array();return this.expression=n.pop(),n.push(this),t=ge.from_array(n).transform(e)}return this}),e(Ae,function(e,t){return e.lift_sequences(t)}),e(we,function(e,n){var r=(e=e.lift_sequences(n)).expression;if(n.option("booleans")&&n.in_boolean_context()){switch(e.operator){case"!":if(r instanceof we&&"!"==r.operator)return r.expression;break;case"typeof":return n.warn("Boolean expression always true [{file}:{line},{col}]",e.start),t(rt,e)}r instanceof xe&&"!"==e.operator&&(e=h(e,r.negate(n)))}return e.evaluate(n)[0]}),xe.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")){if(this.left instanceof ge){var t=this.left.to_array();return this.left=t.pop(),t.push(this),ge.from_array(t).transform(e)}if(this.right instanceof ge&&this instanceof Ee&&!function(e,t){var n=t.option("pure_getters");t.options.pure_getters=!1;var r=e.has_side_effects(t);return t.options.pure_getters=n,r}(this.left,e)){t=this.right.to_array();return this.right=t.pop(),t.push(this),ge.from_array(t).transform(e)}}return this});var F=_("== === != !== * & | ^");e(xe,function(e,n){var r=n.has_directive("use asm")?d:function(t,r){if(r||!e.left.has_side_effects(n)&&!e.right.has_side_effects(n)){t&&(e.operator=t);var i=e.left;e.left=e.right,e.right=i}};if(F(e.operator)&&(e.right instanceof We&&!(e.left instanceof We)&&(e.left instanceof xe&&Rt[e.left.operator]>=Rt[e.operator]||r(null,!0)),/^[!=]==?$/.test(e.operator))){if(e.left instanceof ze&&e.right instanceof ke){if(e.right.consequent instanceof ze&&e.right.consequent.definition()===e.left.definition()){if(/^==/.test(e.operator))return e.right.condition;if(/^!=/.test(e.operator))return e.right.condition.negate(n)}if(e.right.alternative instanceof ze&&e.right.alternative.definition()===e.left.definition()){if(/^==/.test(e.operator))return e.right.condition.negate(n);if(/^!=/.test(e.operator))return e.right.condition}}if(e.right instanceof ze&&e.left instanceof ke){if(e.left.consequent instanceof ze&&e.left.consequent.definition()===e.right.definition()){if(/^==/.test(e.operator))return e.left.condition;if(/^!=/.test(e.operator))return e.left.condition.negate(n)}if(e.left.alternative instanceof ze&&e.left.alternative.definition()===e.right.definition()){if(/^==/.test(e.operator))return e.left.condition.negate(n);if(/^!=/.test(e.operator))return e.left.condition}}}if(e=e.lift_sequences(n),n.option("comparisons"))switch(e.operator){case"===":case"!==":(e.left.is_string(n)&&e.right.is_string(n)||e.left.is_boolean()&&e.right.is_boolean())&&(e.operator=e.operator.substr(0,2));case"==":case"!=":e.left instanceof Ge&&"undefined"==e.left.value&&e.right instanceof we&&"typeof"==e.right.operator&&n.option("unsafe")&&(e.right.expression instanceof ze&&e.right.expression.undeclared()||(e.right=e.right.expression,e.left=t(Ke,e.left).optimize(n),2==e.operator.length&&(e.operator+="=")))}if(n.option("booleans")&&n.in_boolean_context())switch(e.operator){case"&&":var i=e.left.evaluate(n),o=e.right.evaluate(n);if(i.length>1&&!i[1]||o.length>1&&!o[1])return n.warn("Boolean && always false [{file}:{line},{col}]",e.start),t(nt,e);if(i.length>1&&i[1])return o[0];if(o.length>1&&o[1])return i[0];break;case"||":i=e.left.evaluate(n),o=e.right.evaluate(n);if(i.length>1&&i[1]||o.length>1&&o[1])return n.warn("Boolean || always true [{file}:{line},{col}]",e.start),t(rt,e);if(i.length>1&&!i[1])return o[0];if(o.length>1&&!o[1])return i[0];break;case"+":i=e.left.evaluate(n),o=e.right.evaluate(n);if(i.length>1&&i[0]instanceof Ge&&i[1]||o.length>1&&o[0]instanceof Ge&&o[1])return n.warn("+ in boolean context always true [{file}:{line},{col}]",e.start),t(rt,e)}if(n.option("comparisons")){if(!(n.parent()instanceof xe)||n.parent()instanceof Ee){var s=t(we,e,{operator:"!",expression:e.negate(n)});e=h(e,s)}switch(e.operator){case"<":r(">");break;case"<=":r(">=")}}return"+"==e.operator&&e.right instanceof Ge&&""===e.right.getValue()&&e.left instanceof xe&&"+"==e.left.operator&&e.left.is_string(n)?e.left:(n.option("evaluate")&&"+"==e.operator&&(e.left instanceof We&&e.right instanceof xe&&"+"==e.right.operator&&e.right.left instanceof We&&e.right.is_string(n)&&(e=t(xe,e,{operator:"+",left:t(Ge,null,{value:""+e.left.getValue()+e.right.left.getValue(),start:e.left.start,end:e.right.left.end}),right:e.right.right})),e.right instanceof We&&e.left instanceof xe&&"+"==e.left.operator&&e.left.right instanceof We&&e.left.is_string(n)&&(e=t(xe,e,{operator:"+",left:e.left.left,right:t(Ge,null,{value:""+e.left.right.getValue()+e.right.getValue(),start:e.left.right.start,end:e.right.end})})),e.left instanceof xe&&"+"==e.left.operator&&e.left.is_string(n)&&e.left.right instanceof We&&e.right instanceof xe&&"+"==e.right.operator&&e.right.left instanceof We&&e.right.is_string(n)&&(e=t(xe,e,{operator:"+",left:t(xe,e.left,{operator:"+",left:e.left.left,right:t(Ge,null,{value:""+e.left.right.getValue()+e.right.left.getValue(),start:e.left.right.start,end:e.right.left.end})}),right:e.right.right}))),e.right instanceof xe&&e.right.operator==e.operator&&("*"==e.operator||"&&"==e.operator||"||"==e.operator)?(e.left=t(xe,e.left,{operator:e.operator,left:e.left,right:e.right.left}),e.right=e.right.right,e.transform(n)):e.evaluate(n)[0])}),e(ze,function(e,r){if(e.undeclared()){var i=r.option("global_defs");if(i&&i.hasOwnProperty(e.name))return n(r,i[e.name],e);switch(e.name){case"undefined":return t(Ke,e);case"NaN":return t(Qe,e);case"Infinity":return t(et,e)}}return e}),e(Ke,function(e,n){if(n.option("unsafe")){var r=n.find_parent(H),i=r.find_variable("undefined");if(i){var o=t(ze,e,{name:"undefined",scope:r,thedef:i});return o.reference(),o}}return e});var N=["+","-","/","*","%",">>","<<",">>>","|","^","&"];function P(e,n){return n.option("booleans")&&n.in_boolean_context()?t(rt,e):e}e(Ee,function(e,t){return"="==(e=e.lift_sequences(t)).operator&&e.left instanceof ze&&e.right instanceof xe&&e.right.left instanceof ze&&e.right.left.name==e.left.name&&u(e.right.operator,N)&&(e.operator=e.right.operator+"=",e.right=e.right.right),e}),e(ke,function(e,n){if(!n.option("conditionals"))return e;if(e.condition instanceof ge){var r=e.condition.car;return e.condition=e.condition.cdr,ge.cons(r,e)}var i=e.condition.evaluate(n);if(i.length>1)return i[1]?(n.warn("Condition always true [{file}:{line},{col}]",e.start),e.consequent):(n.warn("Condition always false [{file}:{line},{col}]",e.start),e.alternative);var o=i[0].negate(n);h(i[0],o)===o&&(e=t(ke,e,{condition:o,consequent:e.alternative,alternative:e.consequent}));var s=e.consequent,a=e.alternative;if(s instanceof Ee&&a instanceof Ee&&s.operator==a.operator&&s.left.equivalent_to(a.left))return t(Ee,e,{operator:s.operator,left:s.left,right:t(ke,e,{condition:e.condition,consequent:s.right,alternative:a.right})});if(s instanceof de&&a.TYPE===s.TYPE&&s.args.length==a.args.length&&s.expression.equivalent_to(a.expression)){if(0==s.args.length)return t(ge,e,{car:e.condition,cdr:s});if(1==s.args.length)return s.args[0]=t(ke,e,{condition:e.condition,consequent:s.args[0],alternative:a.args[0]}),s}return s instanceof ke&&s.alternative.equivalent_to(a)?t(ke,e,{condition:t(xe,e,{left:e.condition,operator:"&&",right:s.condition}),consequent:s.consequent,alternative:a}):e}),e(tt,function(e,n){if(n.option("booleans")){var r=n.parent();return r instanceof xe&&("=="==r.operator||"!="==r.operator)?(n.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:r.operator,value:e.value,file:r.start.file,line:r.start.line,col:r.start.col}),t(Je,e,{value:+e.value})):t(we,e,{operator:"!",expression:t(Je,e,{value:1-e.value})})}return e}),e(ye,function(e,n){var r=e.property;if(r instanceof Ge&&n.option("properties")){if(r=r.getValue(),at(r)?n.option("screw_ie8"):St(r))return t(be,e,{expression:e.expression,property:r});var i=parseFloat(r);isNaN(i)||i.toString()!=r||(e.property=t(Je,e.property,{value:i}))}return e}),e(Ce,P),e(Se,P),e(Ve,P)}(),function(){var e={TryStatement:function(e){return new ae({start:n(e),end:r(e),body:s(e.block).body,bcatch:s(e.handlers[0]),bfinally:e.finalizer?new ce(s(e.finalizer)):null})},CatchClause:function(e){return new ue({start:n(e),end:r(e),argname:s(e.param),body:s(e.body).body})},ObjectExpression:function(e){return new Se({start:n(e),end:r(e),properties:e.properties.map(function(e){var t=e.key,i="Identifier"==t.type?t.name:t.value,o={start:n(t),end:r(e.value),key:i,value:s(e.value)};switch(e.kind){case"init":return new Be(o);case"set":return o.value.name=s(t),new Fe(o);case"get":return o.value.name=s(t),new Te(o)}})})},SequenceExpression:function(e){return ge.from_array(e.expressions.map(s))},MemberExpression:function(e){return new(e.computed?ye:be)({start:n(e),end:r(e),property:e.computed?s(e.property):e.property.name,expression:s(e.object)})},SwitchCase:function(e){return new(e.test?se:oe)({start:n(e),end:r(e),expression:s(e.test),body:e.consequent.map(s)})},Literal:function(e){var t=e.value,i={start:n(e),end:r(e)};if(null===t)return new Xe(i);switch(typeof t){case"string":return i.value=t,new Ge(i);case"number":return i.value=t,new Je(i);case"boolean":return new(t?rt:nt)(i);default:return i.value=t,new Ve(i)}},UnaryExpression:t,UpdateExpression:t,Identifier:function(e){var t=o[o.length-2];return new("this"==e.name?Ue:"LabeledStatement"==t.type?qe:"VariableDeclarator"==t.type&&t.id===e?"const"==t.kind?Ne:Me:"FunctionExpression"==t.type?t.id===e?Ie:Re:"FunctionDeclaration"==t.type?t.id===e?Pe:Re:"CatchClause"==t.type?Le:"BreakStatement"==t.type||"ContinueStatement"==t.type?He:ze)({start:n(e),end:r(e),name:e.name})}};function t(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?we:Ae)({start:n(e),end:r(e),operator:e.operator,expression:s(e.argument)})}function n(e){return new k({file:e.loc&&e.loc.source,line:e.loc&&e.loc.start.line,col:e.loc&&e.loc.start.column,pos:e.start,endpos:e.start})}function r(e){return new k({file:e.loc&&e.loc.source,line:e.loc&&e.loc.end.line,col:e.loc&&e.loc.end.column,pos:e.end,endpos:e.end})}function i(t,i,o){var a="function From_Moz_"+t+"(M){\n";return a+="return new mytype({\nstart: my_start_token(M),\nend: my_end_token(M)",o&&o.split(/\s*,\s*/).forEach(function(e){var t=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!t)throw new Error("Can't understand property map: "+e);var n="M."+t[1],r=t[2],i=t[3];if(a+=",\n"+i+": ","@"==r)a+=n+".map(from_moz)";else if(">"==r)a+="from_moz("+n+")";else if("="==r)a+=n;else{if("%"!=r)throw new Error("Can't understand operator in propmap: "+e);a+="from_moz("+n+").body"}}),a+="\n})}",a=new Function("mytype","my_start_token","my_end_token","from_moz","return("+a+")")(i,n,r,s),e[t]=a}i("Node",E),i("Program",U,"body@body"),i("Function",J,"id>name, params@argnames, body%body"),i("EmptyStatement",j),i("BlockStatement",O,"body@body"),i("ExpressionStatement",B,"expression>body"),i("IfStatement",ne,"test>condition, consequent>body, alternate>alternative"),i("LabeledStatement",M,"label>label, body>body"),i("BreakStatement",ee,"label>label"),i("ContinueStatement",te,"label>label"),i("WithStatement",z,"object>expression, body>body"),i("SwitchStatement",re,"discriminant>expression, cases@body"),i("ReturnStatement",Q,"argument>value"),i("ThrowStatement",K,"argument>value"),i("WhileStatement",I,"test>condition, body>body"),i("DoWhileStatement",P,"test>condition, body>body"),i("ForStatement",L,"init>init, test>condition, update>step, body>body"),i("ForInStatement",q,"left>init, right>object, body>body"),i("DebuggerStatement",S),i("FunctionDeclaration",V,"id>name, params@argnames, body%body"),i("VariableDeclaration",fe,"declarations@definitions"),i("VariableDeclarator",he,"id>name, init>value"),i("ThisExpression",Ue),i("ArrayExpression",Ce,"elements@elements"),i("FunctionExpression",J,"id>name, params@argnames, body%body"),i("BinaryExpression",xe,"operator=operator, left>left, right>right"),i("AssignmentExpression",Ee,"operator=operator, left>left, right>right"),i("LogicalExpression",xe,"operator=operator, left>left, right>right"),i("ConditionalExpression",ke,"test>condition, consequent>consequent, alternate>alternative"),i("NewExpression",me,"callee>expression, arguments@args"),i("CallExpression",de,"callee>expression, arguments@args");var o=null;function s(t){o.push(t);var n=null!=t?e[t.type](t):null;return o.pop(),n}E.from_mozilla_ast=function(e){var t=o;o=[];var n=s(e);return o=t,n}}(),n.sys=r,n.MOZ_SourceMap=i,n.UglifyJS=o,n.array_to_hash=s,n.slice=function(e,t){return Array.prototype.slice.call(e,t||0)},n.characters=a,n.member=u,n.find_if=c,n.repeat_string=l,n.DefaultsError=f,n.defaults=p,n.merge=h,n.noop=d,n.MAP=m,n.push_uniq=g,n.string_template=v,n.remove=b,n.mergeSort=y,n.set_difference=function(e,t){return e.filter(function(e){return t.indexOf(e)<0})},n.set_intersection=function(e,t){return e.filter(function(e){return t.indexOf(e)>=0})},n.makePredicate=_,n.all=w,n.Dictionary=A,n.DEFNODE=x,n.AST_Token=k,n.AST_Node=E,n.AST_Statement=C,n.AST_Debugger=S,n.AST_Directive=D,n.AST_SimpleStatement=B,n.walk_body=F,n.AST_Block=T,n.AST_BlockStatement=O,n.AST_EmptyStatement=j,n.AST_StatementWithBody=$,n.AST_LabeledStatement=M,n.AST_IterationStatement=N,n.AST_DWLoop=R,n.AST_Do=P,n.AST_While=I,n.AST_For=L,n.AST_ForIn=q,n.AST_With=z,n.AST_Scope=H,n.AST_Toplevel=U,n.AST_Lambda=W,n.AST_Accessor=G,n.AST_Function=J,n.AST_Defun=V,n.AST_Jump=Y,n.AST_Exit=X,n.AST_Return=Q,n.AST_Throw=K,n.AST_LoopControl=Z,n.AST_Break=ee,n.AST_Continue=te,n.AST_If=ne,n.AST_Switch=re,n.AST_SwitchBranch=ie,n.AST_Default=oe,n.AST_Case=se,n.AST_Try=ae,n.AST_Catch=ue,n.AST_Finally=ce,n.AST_Definitions=le,n.AST_Var=fe,n.AST_Const=pe,n.AST_VarDef=he,n.AST_Call=de,n.AST_New=me,n.AST_Seq=ge,n.AST_PropAccess=ve,n.AST_Dot=be,n.AST_Sub=ye,n.AST_Unary=_e,n.AST_UnaryPrefix=we,n.AST_UnaryPostfix=Ae,n.AST_Binary=xe,n.AST_Conditional=ke,n.AST_Assign=Ee,n.AST_Array=Ce,n.AST_Object=Se,n.AST_ObjectProperty=De,n.AST_ObjectKeyVal=Be,n.AST_ObjectSetter=Fe,n.AST_ObjectGetter=Te,n.AST_Symbol=Oe,n.AST_SymbolAccessor=je,n.AST_SymbolDeclaration=$e,n.AST_SymbolVar=Me,n.AST_SymbolConst=Ne,n.AST_SymbolFunarg=Re,n.AST_SymbolDefun=Pe,n.AST_SymbolLambda=Ie,n.AST_SymbolCatch=Le,n.AST_Label=qe,n.AST_SymbolRef=ze,n.AST_LabelRef=He,n.AST_This=Ue,n.AST_Constant=We,n.AST_String=Ge,n.AST_Number=Je,n.AST_RegExp=Ve,n.AST_Atom=Ye,n.AST_Null=Xe,n.AST_NaN=Qe,n.AST_Undefined=Ke,n.AST_Hole=Ze,n.AST_Infinity=et,n.AST_Boolean=tt,n.AST_False=nt,n.AST_True=rt,n.TreeWalker=it,n.KEYWORDS=ot,n.KEYWORDS_ATOM=st,n.RESERVED_WORDS=at,n.KEYWORDS_BEFORE_EXPRESSION=ut,n.OPERATOR_CHARS=ct,n.RE_HEX_NUMBER=lt,n.RE_OCT_NUMBER=ft,n.RE_DEC_NUMBER=pt,n.OPERATORS=ht,n.WHITESPACE_CHARS=dt,n.PUNC_BEFORE_EXPRESSION=mt,n.PUNC_CHARS=gt,n.REGEXP_MODIFIERS=vt,n.UNICODE=bt,n.is_letter=yt,n.is_digit=_t,n.is_alphanumeric_char=wt,n.is_unicode_combining_mark=At,n.is_unicode_connector_punctuation=xt,n.is_identifier=kt,n.is_identifier_start=Et,n.is_identifier_char=Ct,n.is_identifier_string=St,n.parse_js_number=Dt,n.JS_Parse_Error=Bt,n.js_error=Ft,n.is_token=Tt,n.EX_EOF=Ot,n.tokenizer=jt,n.UNARY_PREFIX=$t,n.UNARY_POSTFIX=Mt,n.ASSIGNMENT=Nt,n.PRECEDENCE=Rt,n.STATEMENTS_WITH_LABELS=Pt,n.ATOMIC_START_TOKEN=It,n.parse=Lt,n.TreeTransformer=qt,n.SymbolDef=zt,n.base54=Ht,n.OutputStream=Ut,n.Compressor=Wt,n.SourceMap=function(e){e=p(e,{file:null,root:null,orig:null,orig_line_diff:0,dest_line_diff:0});var t=new i.SourceMapGenerator({file:e.file,sourceRoot:e.root}),n=e.orig&&new i.SourceMapConsumer(e.orig);return{add:function(r,i,o,s,a,u){if(n){var c=n.originalPositionFor({line:s,column:a});if(null===c.source)return;r=c.source,s=c.line,a=c.column,u=c.name}t.addMapping({generated:{line:i+e.dest_line_diff,column:o},original:{line:s+e.orig_line_diff,column:a},source:r,name:u})},get:function(){return t},toString:function(){return t.toString()}}},n.AST_Node.warn_function=function(e){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e)},n.minify=function(e,t){t=o.defaults(t,{spidermonkey:!1,outSourceMap:null,sourceRoot:null,inSourceMap:null,fromString:!1,warnings:!1,mangle:{},output:null,compress:{}}),o.base54.reset();var n=null,r={};if(t.spidermonkey?n=o.AST_Node.from_mozilla_ast(e):("string"==typeof e&&(e=[e]),e.forEach(function(e){var i=t.fromString?e:fs.readFileSync(e,"utf8");r[e]=i,n=o.parse(i,{filename:t.fromString?"?":e,toplevel:n})})),t.compress){var i={warnings:t.warnings};o.merge(i,t.compress),n.figure_out_scope();var s=o.Compressor(i);n=n.transform(s)}t.mangle&&(n.figure_out_scope(),n.compute_char_frequency(),n.mangle_names(t.mangle));var a=t.inSourceMap,u={};if("string"==typeof t.inSourceMap&&(a=fs.readFileSync(t.inSourceMap,"utf8")),t.outSourceMap&&(u.source_map=o.SourceMap({file:t.outSourceMap,orig:a,root:t.sourceRoot}),t.sourceMapIncludeSources))for(var c in r)r.hasOwnProperty(c)&&t.source_map.get().setSourceContent(c,r[c]);t.output&&o.merge(u,t.output);var l=o.OutputStream(u);return n.print(l),{code:l+"",map:u.source_map+""}},n.describe_ast=function(){var e=o.OutputStream({beautify:!0});return function t(n){e.print("AST_"+n.TYPE);var r=n.SELF_PROPS.filter(function(e){return!/^\$/.test(e)});r.length>0&&(e.space(),e.with_parens(function(){r.forEach(function(t,n){n&&e.space(),e.print(t)})})),n.documentation&&(e.space(),e.print_string(n.documentation)),n.SUBCLASSES.length>0&&(e.space(),e.with_block(function(){n.SUBCLASSES.forEach(function(n,r){e.indent(),t(n),e.newline()})}))}(o.AST_Node),e+""}},{"source-map":35,util:32}],46:[function(e,t,n){var r=e("uglify-js");function i(e){var t=r.parse("(function () {"+e+"}())");return t.figure_out_scope(),t.globals.map(function(e,t){return t})}t.exports=function(e,t,n){e+="",t+="",n=(n=n||[]).concat(i(e));var o=i(t).filter(function(e){return-1===n.indexOf(e)});if(0===o.length)return t;var s="",a="locals_for_with",u="result_of_with";if(/^[a-zA-Z0-9$_]+$/.test(e))a=e;else{for(;-1!=o.indexOf(a)||-1!=n.indexOf(a);)a+="_";s="var "+a+" = ("+e+")"}for(;-1!=o.indexOf(u)||-1!=n.indexOf(u);)u+="_";var c=o.map(function(e){return JSON.stringify(e)+" in "+a+"?"+a+"."+e+":typeof "+e+'!=="undefined"?'+e+":undefined"});return t="(function ("+o.join(", ")+") {"+t+"}("+c.join(",")+"))",";"+s+";"+function(e,t){var n=e,i=!1,o=r.parse(e);if(e=e.split(""),1!==o.body.length||"SimpleStatement"!==o.body[0].TYPE||"Call"!==o.body[0].body.TYPE||"Function"!==o.body[0].body.expression.TYPE)throw new Error("AST does not seem to represent a self-calling function");var s=o.body[0].body.expression,a=new r.TreeWalker(function(t,n){return t!==s&&("Defun"===t.TYPE||"Function"===t.TYPE)||("Return"===t.TYPE?(n(),i=!0,function(t,n){for(var r=t.start.pos;r<t.end.endpos;r++)e[r]="";e[t.start.pos]=n}(t,"return {value: "+function(t){return e.slice(t.start.pos,t.end.endpos).join("")}(t.value)+"};"),!0):void 0)});return o.walk(a),i?"var "+t+"="+e.join("")+";if ("+t+") return "+t+".value":n}(t,u)+";"}},{"uglify-js":45}]},{},[5])(5)}),n(t.exports)?t.exports:n(e)?e:void 0});
//# sourceMappingURL=../sourcemaps/primitives/jade.js.map
